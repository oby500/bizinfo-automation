#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
AI 신청서 작성 시스템 - 프롬프트 템플릿

Claude Sonnet 4.5 프롬프트 템플릿 정의
업데이트: 2025-01-10 - v2.0 심사 고득점 중심 재설계
"""

# ================================================
# Claude Sonnet 4.5 - 공고 분석 프롬프트 v2.0
# ================================================
#
# 변경 이력:
# v1.0 (2024): 공고문 평가 분석 중심 (938줄, 출력 8K-16K tokens)
# v2.0 (2025-01-10): 심사 고득점 중심 재설계 (출력 3K tokens, 60% 감소)
#
# 핵심 변경:
# 1. 목표: 공고 "분석" → 심사 "고득점" 전략
# 2. 출력: nested JSON → flat JSON (토큰 효율 60% 개선)
# 3. 초점: 평가 기준 + 작성 요구사항 추출
# 4. 결과: AI가 고득점 신청서 작성 가능

ANALYZE_ANNOUNCEMENT_PROMPT = """
당신은 정부지원사업 신청서 작성 전문가입니다.
목표는 **심사에서 높은 점수를 받아 선정되도록** 하는 것입니다.

# 🎯 작업 목표

공고문에서 AI가 **고득점 신청서를 작성**하는데 필요한 정보를 추출하세요.

# 📋 추출 대상

## 1. 평가 기준 (최우선!) ⭐⭐⭐⭐⭐

각 평가 항목의:
- 배점 (몇 점인지)
- 평가 내용 (무엇을 평가하는지)
- 심사위원이 원하는 것 (어떤 내용을 보고 싶어하는지)

예: "기술력 40점 → 기술 수준 20점 (정량적 데이터, 특허, 경쟁사 비교 원함)"

## 2. 작성 요구사항 ⭐⭐⭐⭐

각 섹션별로 **무엇을, 어떻게** 써야 하는지:
- ※ 마커: "※ 개발 배경, 목적, 구조, 핵심기술 등 기재"
- 괄호: "사업개념 (관련분야와 함께 기술)"
- 평가 연계: "선정심사표 참고하여 장점 부각"

## 3. 분량 제약 ⭐⭐⭐

- "10페이지 이내" → AI가 10페이지 안에서 최대한
- 제한 없음 → AI가 상세하게 작성!

## 4. 제출 요구사항 ⭐

파일 목록, 제출 방법, 크기 제한

## 5. 스타일 추천 (AI 라우터) ⭐⭐⭐

공고 특성에 맞는 최적의 신청서 작성 스타일을 추천하세요.

**베이스 스타일 5가지**:
- story: 스토리텔링 중심, 감성적 어필, 성장 여정 강조
- data: 데이터/수치 중심, 객관적 근거, 정량적 증거
- aggressive: 적극적/도전적 어조, 야심찬 목표, 강력한 자신감
- conservative: 안정적/신뢰 중심, 리스크 관리, 검증된 실적
- professional: 전문적/학술적 어조, 기술적 깊이, 전문가 관점

**조합 스타일 4가지** (베이스 스타일 조합):
- balanced: story + data 조합 (스토리와 데이터의 균형)
- strategic: data + aggressive 조합 (데이터 기반 공격적 전략)
- trusted: story + conservative 조합 (신뢰를 주는 스토리)
- expert: data + professional 조합 (전문가적 데이터 분석)

**추천 기준**:
1. 심사위원 구성 (기술전문가 비중 높으면 professional/data)
2. 평가 비중 (정량평가 높으면 data, 정성평가 높으면 story)
3. 사업 특성 (혁신 강조면 aggressive, 안정 중시면 conservative)
4. 공고 톤앤매너 (공식적이면 professional, 친근하면 story)

→ 베이스 3개, 조합 2개를 적합도 점수(1-100)와 함께 추천

# 📤 출력 형식

간결한 JSON으로:

{{
  "자격요건": [
    {{
      "항목": "사업자 등록 여부",
      "내용": "중소기업 또는 스타트업으로 사업자 등록이 되어 있어야 함",
      "충족여부_판단기준": "사업자등록증 사본 제출 필수",
      "필수여부": "필수",
      "중요도": "높음"
    }}
  ],

  "평가기준": [
    {{
      "대항목": "기술력",
      "배점": 40,
      "비중": "40%",
      "세부항목": [
        {{
          "항목": "기술 수준 및 차별성",
          "배점": 20,
          "평가포인트": [
            "핵심 기술의 독창성",
            "경쟁사 대비 기술적 우위",
            "특허 및 지식재산권 보유 현황",
            "기술 구현 완성도"
          ],
          "작성전략": "표를 활용하여 경쟁사 대비 수치로 비교, 특허 목록 제시, 기술 검증 자료 첨부",
          "심사위원_주목점": "정량적 비교 데이터, 객관적 검증 자료"
        }},
        {{
          "항목": "R&D 역량",
          "배점": 10,
          "평가포인트": [
            "연구개발 투자 비율",
            "연구인력 구성",
            "과거 R&D 성과"
          ],
          "작성전략": "최근 3년 R&D 투자액 표로 제시, 연구인력 경력 상세 기술",
          "심사위원_주목점": "지속적인 R&D 투자 여부, 전문인력 보유"
        }},
        {{
          "항목": "기술 실현 가능성",
          "배점": 10,
          "평가포인트": [
            "구체적인 개발 계획",
            "위험 요소 및 대응방안",
            "일정 및 마일스톤"
          ],
          "작성전략": "간트 차트 활용, 단계별 성과물 명시, 리스크 관리 계획 구체화",
          "심사위원_주목점": "현실적인 일정 계획, 위험 대비 능력"
        }}
      ],
      "작성시_중요사항": "표와 그래프 활용 권장, 객관적 수치 중심 서술, 추상적 표현 지양"
    }},

    {{
      "대항목": "사업성",
      "배점": 30,
      "비중": "30%",
      "세부항목": [
        {{
          "항목": "시장 분석",
          "배점": 10,
          "평가포인트": [
            "목표 시장 규모 및 성장성",
            "시장 트렌드 분석",
            "고객 니즈 파악"
          ],
          "작성전략": "공신력 있는 시장 조사 자료 인용, 시장 규모 수치화, 성장률 그래프 제시",
          "심사위원_주목점": "출처가 명확한 시장 데이터, 현실적인 시장 분석"
        }},
        {{
          "항목": "수익 모델",
          "배점": 10,
          "평가포인트": [
            "매출 구조의 명확성",
            "수익성 전망",
            "재무 계획"
          ],
          "작성전략": "연도별 매출 계획 표로 제시, BEP 분석, 핵심 가정 명시",
          "심사위원_주목점": "실현 가능한 매출 계획, 근거 있는 재무 전망"
        }},
        {{
          "항목": "경쟁력",
          "배점": 10,
          "평가포인트": [
            "경쟁사 분석",
            "차별화 전략",
            "진입 장벽"
          ],
          "작성전략": "경쟁사 비교 표 작성, SWOT 분석, 차별화 요소 부각",
          "심사위원_주목점": "명확한 경쟁 우위, 지속 가능한 차별화"
        }}
      ],
      "작성시_중요사항": "시장 데이터는 최근 자료 사용, 출처 명시, 과도한 낙관 지양"
    }},

    {{
      "대항목": "실행력",
      "배점": 30,
      "비중": "30%",
      "세부항목": [
        {{
          "항목": "추진 체계",
          "배점": 15,
          "평가포인트": [
            "조직 구성의 적정성",
            "인력 전문성",
            "역할 분담"
          ],
          "작성전략": "조직도 제시, 핵심 인력 경력 상세 기술, 외부 자문단 구성",
          "심사위원_주목점": "전문 인력 보유 여부, 조직의 안정성"
        }},
        {{
          "항목": "추진 일정",
          "배점": 10,
          "평가포인트": [
            "단계별 목표 명확성",
            "일정의 현실성",
            "성과 지표"
          ],
          "작성전략": "월별 상세 일정 표 작성, KPI 설정, 마일스톤 명시",
          "심사위원_주목점": "구체적인 실행 계획, 측정 가능한 성과 지표"
        }},
        {{
          "항목": "예산 계획",
          "배점": 5,
          "평가포인트": [
            "예산 배분의 합리성",
            "자부담 능력",
            "비용 효율성"
          ],
          "작성전략": "항목별 세부 예산 표 작성, 자부담 재원 명시, 집행 계획 구체화",
          "심사위원_주목점": "합리적인 예산 배분, 자부담 확보 능력"
        }}
      ],
      "작성시_중요사항": "현실적인 계획 수립, 과도한 목표 설정 지양"
    }}
  ],

  "심사위원_프로파일": {{
    "구성": {{
      "기술전문가": 60,
      "경영전문가": 30,
      "회계사": 10
    }},
    "선호스타일": "데이터 중심, 객관적 근거, 정량적 지표",
    "중요포인트": [
      "실현 가능성",
      "객관적 수치",
      "구체적 계획",
      "검증 가능한 성과"
    ],
    "기피표현": [
      "노력하겠습니다",
      "최선을 다하겠습니다",
      "세계 최고",
      "혁신적인",
      "획기적인"
    ],
    "선호표현": [
      "구체적인 수치",
      "객관적 비교",
      "검증된 결과",
      "정량적 목표"
    ]
  }},

  "핵심키워드": {{
    "필수": [
      "차별성",
      "시장성",
      "실현가능성",
      "기술력",
      "수익성"
    ],
    "권장빈도": {{
      "차별성": "5-7회",
      "기술력": "7-10회",
      "시장성": "4-6회",
      "실현가능성": "3-5회"
    }},
    "섹션배치": {{
      "도입부": ["차별성", "혁신성"],
      "기술섹션": ["기술력", "독창성", "특허"],
      "사업섹션": ["시장성", "수익성", "성장성"],
      "실행섹션": ["실현가능성", "추진력", "안정성"]
    }}
  }},

  "경쟁강도": {{
    "예상경쟁률": "10:1",
    "난이도": "높음",
    "차별화필요도": "매우높음",
    "선정률": "10%",
    "최소_합격점": "75점 이상"
  }},

  "작성전략": {{
    "전체톤": "전문적이고 객관적, 과장 없는 사실 중심",
    "표사용": "5-7개 권장",
    "그래프사용": "2-3개 권장",
    "페이지수": "15-20페이지 (별첨 제외)",
    "섹션별강조": {{
      "기술력": "표와 수치로 증명, 특허 및 기술 검증 자료 첨부",
      "사업성": "시장 데이터 활용, 재무 계획 구체화",
      "실행력": "구체적 일정과 예산, 조직 역량 강조"
    }},
    "피해야할_표현": [
      "추상적인 미래 계획",
      "검증 불가능한 주장",
      "과도한 수식어",
      "애매한 목표"
    ],
    "강조해야할_요소": [
      "객관적 데이터",
      "구체적 수치",
      "실적 증명",
      "검증 가능한 계획"
    ]
  }},

  "제출서류_체크리스트": [
    {{
      "서류명": "사업계획서",
      "필수여부": "필수",
      "주의사항": "모든 평가 기준에 대응하는 내용 포함"
    }},
    {{
      "서류명": "사업자등록증 사본",
      "필수여부": "필수",
      "주의사항": "유효한 등록증, 만료일 확인"
    }},
    {{
      "서류명": "재무제표",
      "필수여부": "필수",
      "주의사항": "최근 3개년 재무제표, 회계사 확인 필요"
    }},
    {{
      "서류명": "특허증 사본",
      "필수여부": "해당시",
      "주의사항": "기술력 평가에 활용"
    }}
  ],

  "추가_분석": {{
    "공고_특징": "기술 중심 평가, 정량 지표 비중 높음",
    "성공_포인트": "객관적 데이터, 구체적 계획, 검증 가능한 성과",
    "실패_위험요소": "추상적 계획, 과도한 목표, 근거 부족",
    "추천_준비사항": [
      "시장 조사 자료 수집",
      "경쟁사 분석 데이터 준비",
      "재무 계획 정교화",
      "특허 및 기술 검증 자료 확보"
    ]
  }},

  "스타일추천": {{
    "베이스추천": {{
      "1순위": {{
        "스타일": "data",
        "적합도": 95,
        "추천이유": "이 공고는 정량적 평가 비중이 높아 데이터 중심 작성이 최적"
      }},
      "2순위": {{
        "스타일": "professional",
        "적합도": 88,
        "추천이유": "기술전문가 심사위원 비중이 높아 전문적 어조가 효과적"
      }},
      "3순위": {{
        "스타일": "story",
        "적합도": 75,
        "추천이유": "기업의 성장 스토리로 차별화 가능"
      }}
    }},
    "조합추천": {{
      "1순위": {{
        "스타일": "expert",
        "적합도": 92,
        "추천이유": "데이터+전문성 조합으로 기술력 섹션에서 높은 점수 기대"
      }},
      "2순위": {{
        "스타일": "strategic",
        "적합도": 85,
        "추천이유": "데이터+적극성 조합으로 사업성 어필에 효과적"
      }}
    }},
    "추천근거": {{
      "공고특성": "기술 중심, 정량 평가 비중 60%",
      "심사위원구성": "기술전문가 60%, 경영전문가 30%",
      "평가기준분석": "객관적 수치와 검증 자료 선호",
      "최적조합": "data + professional 또는 expert 스타일 권장"
    }}
  }},

  "과제목록": [
    {{
      "task_number": 1,
      "task_name": "AI 기반 솔루션 개발",
      "description": "AI 기술을 활용한 혁신적 솔루션을 개발하여 기업의 디지털 전환을 촉진합니다. 머신러닝, 딥러닝 등 최신 AI 기술을 적용한 제품 또는 서비스를 개발하는 과제입니다.",
      "required_info": [
        "AI 기술 개발 경험 및 보유 역량",
        "AI 솔루션 개발 계획 및 추진 일정",
        "예상 성과 및 기대효과 (매출, 고용 등)",
        "AI 관련 특허 및 기술 보유 현황",
        "개발팀 구성 및 전문성"
      ],
      "evaluation_points": [
        "AI 기술의 독창성 및 차별성",
        "솔루션의 시장 경쟁력 및 사업성",
        "실현 가능성 및 구체적 추진 계획",
        "AI 전문 인력 보유 여부",
        "선행 기술 및 연구 실적"
      ]
    }},
    {{
      "task_number": 2,
      "task_name": "클라우드 기반 플랫폼 구축",
      "description": "클라우드 기술을 활용하여 확장 가능하고 안정적인 플랫폼을 구축합니다. 다양한 산업 분야에 적용 가능한 SaaS, PaaS 형태의 클라우드 서비스를 개발하는 과제입니다.",
      "required_info": [
        "클라우드 아키텍처 설계 경험",
        "플랫폼 개발 계획 및 기술 스택",
        "보안 및 데이터 관리 방안",
        "예상 사용자 규모 및 확장성 전략",
        "클라우드 인프라 구축 비용 계획"
      ],
      "evaluation_points": [
        "클라우드 플랫폼의 기술적 우수성",
        "확장성 및 안정성 확보 방안",
        "보안 및 개인정보 보호 대책",
        "시장 수요 및 비즈니스 모델",
        "운영 및 유지보수 계획"
      ]
    }},
    {{
      "task_number": 3,
      "task_name": "데이터 분석 및 빅데이터 활용",
      "description": "빅데이터 분석 기술을 활용하여 비즈니스 인사이트를 도출하고, 데이터 기반 의사결정을 지원합니다. 대규모 데이터 처리 및 실시간 분석 시스템을 구축하는 과제입니다.",
      "required_info": [
        "빅데이터 처리 기술 및 툴 경험",
        "데이터 분석 방법론 및 적용 사례",
        "데이터 수집 및 저장 인프라 계획",
        "분석 결과 활용 방안 및 기대효과",
        "데이터 사이언티스트 및 엔지니어 보유 현황"
      ],
      "evaluation_points": [
        "빅데이터 기술의 적용 수준",
        "분석 방법론의 타당성",
        "데이터 기반 비즈니스 가치 창출",
        "데이터 거버넌스 및 품질 관리",
        "분석 전문 인력 보유"
      ]
    }}
  ],

  "필수정보": [
    "회사명",
    "사업자등록번호",
    "설립연도",
    "대표자명",
    "주요 사업 내용",
    "기술력 증빙 자료",
    "매출 현황",
    "고용 인원",
    "특허 보유 현황"
  ]
}}

**⚠️ MUST INCLUDE 필수 지시사항 ⚠️**:
1. 모든 평가 기준을 빠짐없이 분석하세요
2. 배점이 높은 항목일수록 더 상세히 분석하세요
3. 심사위원의 관점에서 평가하세요
4. 구체적이고 실행 가능한 작성 전략을 제시하세요
5. JSON 형식을 정확히 지켜주세요

**🔴 CRITICAL: 신청 옵션 및 필수 정보 지능 분석 🔴**

**1. 신청 옵션 분석 (과제목록 필드)**:
당신의 임무는 **이 공고가 여러 개의 선택 가능한 신청 옵션을 제공하는지 판단**하는 것입니다.

⚠️ 중요: "과제"라는 단어에 집착하지 마세요! 다음과 같은 다양한 형태로 나타날 수 있습니다:
- "과제 1, 과제 2, ..."
- "트랙 A, 트랙 B, ..."
- "유형 I, 유형 II, ..."
- "분야 가, 분야 나, ..."
- "부문 1, 부문 2, ..."
- 또는 **어떤 다른 형태의 선택 가능한 옵션들**

**판단 기준**:
✅ **여러 옵션이 있다고 판단하는 경우**:
  - 공고에서 신청자가 **여러 선택지 중 하나를 선택**해야 한다고 명시되어 있거나
  - 서로 다른 특성/목적을 가진 **2개 이상의 구분된 신청 경로**가 있거나
  - 각각 **다른 평가 기준이나 요구사항**을 가진 **별도의 분류**가 있는 경우

  → **각 옵션을 "과제목록" 배열에 객체로 작성하세요**:
  ```json
  "과제목록": [
    {
      "task_number": 1,
      "task_name": "실제 공고에서 사용된 이름 (예: 일반트랙, 기술개발형 등)",
      "description": "이 옵션의 특징과 목적을 명확히 설명",
      "required_info": ["이 옵션에 특화된 필요 정보들"],
      "evaluation_points": ["이 옵션의 평가 기준들"]
    }
  ]
  ```

❌ **단일 옵션이라고 판단하는 경우**:
  - 공고 전체가 **하나의 통합된 신청 경로**만 제공하거나
  - 명확히 구분되는 **선택 가능한 옵션이 없는** 경우

  → **빈 배열로 반환**: `"과제목록": []`

**2. 필수 정보 분석 (필수정보 필드)**:
공고 내용을 **철저히** 분석하여 신청서 작성에 필요한 **모든 정보**를 추출하세요.

**추출 방법**:
1. 공고의 "신청자격", "제출서류", "평가기준" 섹션을 **모두** 읽으세요
2. 각 평가 항목에서 **입증해야 할 정보**를 파악하세요
3. 제출 서류에서 **요구하는 데이터**를 파악하세요
4. **최소 10개 이상**의 항목을 추출하세요

**필수 포함 항목** (거의 모든 공고에 공통):
- 회사명, 사업자등록번호, 설립연도, 대표자명
- 주요 사업 내용, 매출 현황, 직원 수
- 기술력 증빙, 특허/인증 보유 현황, 재무 상태

**공고별 추가 항목** (공고 내용에 따라 유연하게 추가):
- R&D 투자 계획, 고용 계획, 해외 진출 계획
- 협력사/파트너사 현황, 수상 경력, 정부지원사업 참여 이력
- 환경/안전 관리 체계, 품질 관리 시스템, 지식재산권 전략
- **기타 공고에서 요구하는 모든 정보**

→ 결과: `"필수정보": ["항목1", "항목2", ..., "항목N"]` (N ≥ 10)

⚠️ **절대적 주의사항 - JSON 출력 전용** ⚠️
- 반드시 순수 JSON만 출력하세요
- 마크다운, 설명문, 주석, 제목 등 **어떤 추가 텍스트도 절대 포함하지 마세요**
- 응답은 반드시 {{ 로 시작하고 }} 로 끝나야 합니다
- 첫 글자는 {{ 이어야 하며, 마지막 글자는 }} 이어야 합니다
- JSON 외의 어떤 내용도 출력하면 시스템 오류가 발생합니다
"""


# ================================================
# Claude Sonnet 4.5 - 회사 분석 프롬프트
# ================================================

ANALYZE_COMPANY_PROMPT = """
당신은 20년 경력의 정부지원사업 전문 컨설턴트입니다.
회사의 강점과 약점을 정확히 파악하고, 공고 평가기준에 최적화된 전략을 수립하는 전문가입니다.

<공고분석>
{announcement_analysis}
</공고분석>

<회사정보>
{company_info}
</회사정보>

회사와 공고를 매칭 분석하여 **매우 상세한** JSON으로 출력하세요:

{{
  "강점분석": [
    {{
      "강점": "특허 2건 보유 (AI 기반 데이터 분석, 자동화 시스템)",
      "대응평가기준": "기술력 > 기술 수준 및 차별성 (20점)",
      "점수기여도": "15-18점 예상 (만점 대비 75-90%)",
      "활용방법": "표로 특허 상세 내역 제시 (특허번호, 등록일, 핵심기술, 차별성)",
      "추가전략": [
        "특허가 실제 제품에 적용된 구체적 사례 제시",
        "특허 기술의 시장 경쟁력 수치화",
        "향후 추가 특허 출원 계획 명시"
      ],
      "예상기여": "기술력 섹션에서 15-18점 확보 가능",
      "증빙자료": [
        "특허증 사본",
        "특허 기술 적용 사례",
        "기술 검증 자료"
      ],
      "작성예시": "당사는 'AI 기반 데이터 분석 시스템(특허 제10-XXXX호)'과 '자동화 프로세스 최적화 시스템(특허 제10-YYYY호)' 2건의 특허를 보유하고 있으며, 이는 경쟁사 대비 처리 속도 5배, 정확도 95% 이상의 기술적 우위를 제공합니다."
    }},
    {{
      "강점": "최근 3년간 연평균 성장률 45%",
      "대응평가기준": "사업성 > 수익 모델 (10점)",
      "점수기여도": "8-10점 예상",
      "활용방법": "연도별 매출 추이 그래프 제시, 성장 요인 분석",
      "추가전략": [
        "성장률의 지속 가능성 근거 제시",
        "향후 3년 성장 전망 구체화",
        "성장을 뒷받침하는 시장 데이터 인용"
      ],
      "예상기여": "사업성 섹션에서 8-10점 확보 가능",
      "증빙자료": [
        "최근 3개년 재무제표",
        "매출 증가 요인 분석 자료",
        "향후 성장 계획"
      ],
      "작성예시": "당사는 2022년 5억원, 2023년 7.25억원, 2024년 10.5억원으로 연평균 45% 성장하였으며, 이는 시장 평균(15%) 대비 3배 높은 수치입니다."
    }}
  ],

  "약점분석": [
    {{
      "약점": "팀 규모 작음 (15명, 개발자 8명)",
      "불리한기준": "실행력 > 추진 체계 (15점)",
      "점수손실": "3-5점 손실 예상",
      "보완전략": [
        "핵심 인력의 높은 전문성 강조 (평균 경력 10년)",
        "외부 협력사 네트워크 구축 현황 제시",
        "전문 자문단 구성 (기술, 경영, 재무)",
        "필요시 인력 충원 계획 명시"
      ],
      "대안제시": [
        "소규모 조직의 빠른 의사결정 장점 부각",
        "핵심 인력 1인당 생산성 수치화",
        "프로젝트 수행 실적으로 역량 증명"
      ],
      "예상손실": "3-5점 (보완 전략으로 1-2점으로 최소화 가능)",
      "작성예시": "당사는 15명의 핵심 인력으로 구성되어 있으나, 평균 경력 10년 이상의 전문가들로 구성되어 있으며, 1인당 연평균 매출 7천만원으로 업계 평균(4천만원) 대비 1.75배 높은 생산성을 보이고 있습니다."
    }},
    {{
      "약점": "해외 시장 진출 경험 부족",
      "불리한기준": "사업성 > 경쟁력 (10점)",
      "점수손실": "2-3점 손실 예상",
      "보완전략": [
        "국내 시장 우선 공략 후 해외 진출 단계적 계획",
        "해외 진출을 위한 파트너십 체결 현황",
        "글로벌 시장 조사 완료 및 전략 수립"
      ],
      "대안제시": [
        "국내 시장 점유율 확대로 기반 마련",
        "수출 바우처 등 해외 진출 지원사업 연계",
        "현지 파트너와의 협력 계획"
      ],
      "예상손실": "2-3점 (보완 전략으로 1점 이하로 최소화 가능)",
      "작성예시": "현재 국내 시장에 집중하고 있으나, 2025년 하반기 동남아 시장 진출을 위해 현지 파트너 3곳과 MOU를 체결하였으며, KOTRA 해외 진출 프로그램에 참여 중입니다."
    }}
  ],

  "차별화포인트": [
    {{
      "포인트": "AI 정밀도 업계 1위 (±0.1%, 경쟁사 평균 ±0.5%)",
      "경쟁사대비": "정확도 5배 우수",
      "수치화": "오차율 0.1% vs 경쟁사 평균 0.5%",
      "강조방법": [
        "도입부에 임팩트 있게 제시",
        "경쟁사 비교 표 작성",
        "제3자 검증 자료 첨부"
      ],
      "스토리": "10년간 R&D에 매출의 25% 지속 투자로 달성한 기술력",
      "활용섹션": [
        "기술력 (도입부)",
        "경쟁력 (차별화 요소)",
        "사업성 (경쟁 우위)"
      ],
      "작성예시": "당사의 AI 정밀도는 ±0.1%로 업계 1위 수준이며, 경쟁사 평균(±0.5%) 대비 5배 우수합니다. 이는 10년간 매출의 25%를 R&D에 투자한 결과이며, 한국산업기술시험원의 제3자 검증을 완료하였습니다."
    }},
    {{
      "포인트": "고객 재구매율 87% (업계 평균 45%)",
      "경쟁사대비": "재구매율 2배",
      "수치화": "87% vs 업계 평균 45%",
      "강조방법": [
        "고객 만족도 그래프",
        "주요 고객사 리스트",
        "고객 추천 사례"
      ],
      "스토리": "제품 품질과 A/S로 높은 고객 충성도 확보",
      "활용섹션": [
        "사업성 (시장 경쟁력)",
        "실행력 (사업 안정성)"
      ],
      "작성예시": "당사 제품의 고객 재구매율은 87%로 업계 평균(45%) 대비 2배 높으며, 이는 제품 품질과 24시간 A/S 시스템으로 확보한 높은 고객 충성도를 보여줍니다."
    }}
  ],

  "리스크체크": {{
    "자격요건": {{
      "충족": true,
      "주의사항": [
        "사업자등록증 유효기간 확인",
        "직원 수 최소 요건 확인 (현재 15명, 요구사항 10명 이상)"
      ],
      "보완필요": []
    }},
    "제출서류": {{
      "준비완료": [
        "사업자등록증 사본",
        "재무제표 (최근 3개년)",
        "특허증 사본"
      ],
      "누락위험": [
        "기술 검증 자료 (제3자 인증)"
      ],
      "추가준비": [
        "고객사 추천서",
        "외부 협력사 MOU"
      ]
    }},
    "예산한도": {{
      "총사업비": 100000000,
      "정부지원금": 70000000,
      "자부담": 30000000,
      "자부담_확보": true,
      "자부담_재원": "자체 자금 50%, 은행 대출 50%",
      "초과위험": false
    }},
    "일정": {{
      "준비기간": "충분",
      "제출마감": "2025-06-30",
      "현재일": "2025-01-10",
      "남은기간": "171일",
      "주의사항": "서류 준비에 최소 30일 필요"
    }}
  }},

  "최종전략": {{
    "추천스타일": "데이터 중심형 (표와 그래프 중심)",
    "이유": [
      "공고 평가기준이 정량 평가 비중 높음 (60%)",
      "귀사의 수치적 강점 (특허, 성장률, 정밀도) 활용 가능",
      "심사위원 구성 (기술전문가 60%)에 최적화"
    ],
    "섹션우선순위": [
      {{
        "섹션": "기술력",
        "배점": 40,
        "전략": "특허와 정밀도 수치로 차별성 강조",
        "목표점수": "35-38점"
      }},
      {{
        "섹션": "사업성",
        "배점": 30,
        "전략": "성장률과 재구매율로 시장성 증명",
        "목표점수": "25-28점"
      }},
      {{
        "섹션": "실행력",
        "배점": 30,
        "전략": "핵심 인력의 전문성과 협력사 네트워크 강조",
        "목표점수": "22-25점"
      }}
    ],
    "강조내용": [
      "특허 2건 (표로 상세)",
      "AI 정밀도 ±0.1% (경쟁사 비교)",
      "성장률 45% (3개년 그래프)",
      "재구매율 87% (고객 충성도)"
    ],
    "최소화내용": [
      "팀 규모 (전문성으로 대체)",
      "해외 진출 경험 (단계적 계획으로 보완)"
    ],
    "목표점수": "82-91점 (100점 만점)",
    "합격가능성": "높음 (최소 합격점 75점 이상 확보 가능)"
  }},

  "작성시_핵심전략": {{
    "도입부": "차별화 포인트를 임팩트 있게 제시 (AI 정밀도, 성장률)",
    "기술섹션": "특허와 기술 검증 자료로 객관성 확보",
    "사업섹션": "시장 데이터와 재무 계획으로 사업성 증명",
    "실행섹션": "전문 인력과 협력사로 실행력 보완",
    "결론": "구체적 목표와 기대 효과로 마무리"
  }}
}}

**중요**:
1. 강점은 최대한 부각하고 구체적인 활용 방법을 제시하세요
2. 약점은 솔직히 인정하되 반드시 보완 전략을 제시하세요
3. 모든 분석에 예상 점수와 기여도를 명시하세요
4. 차별화 포인트는 수치화하여 경쟁사와 비교하세요
5. 최종 목표 점수와 합격 가능성을 명확히 제시하세요

⚠️ **절대적 주의사항 - JSON 출력 전용** ⚠️
- 반드시 순수 JSON만 출력하세요
- 마크다운, 설명문, 주석, 제목 등 **어떤 추가 텍스트도 절대 포함하지 마세요**
- 응답은 반드시 {{ 로 시작하고 }} 로 끝나야 합니다
- 첫 글자는 {{ 이어야 하며, 마지막 글자는 }} 이어야 합니다
- JSON 외의 어떤 내용도 출력하면 시스템 오류가 발생합니다
"""



# ================================================
# GPT-4o - 단순 등록 양식용 프롬프트
# ================================================

GENERATE_APPLICATION_PROMPT_SIMPLE = """
# 🎯 단순 등록 양식 작성

당신은 정부지원사업 신청서 작성 전문가입니다.

이 공고는 **평가 항목이 없는 단순 등록 양식**입니다.
(예: 교육 수강 신청, 행사 참가 신청 등)

<공고분석>
{announcement_analysis}
</공고분석>

<회사정보>
{company_info}
</회사정보>

**작업**: 필수 필드를 채워주세요.

**출력 형식** (JSON):

{{
  "form_type": "simple_registration",
  "application": {{
    "소속": "주식회사 테크이노베이션",
    "성명": "김혁신",
    "휴대폰": "010-1234-5678",
    "이메일": "tech@example.com",
    "창업여부": "기창업자",
    "연령": "38",
    "주요경력": "AI 기술 개발 15년",
    "창업분야": "정보·통신"
  }}
}}

**중요**:
- 평가 항목을 만들지 마세요!
- 5단계 구조(도입-본론-차별화-증빙-전망)를 사용하지 마세요!
- 단순히 필드만 채우세요!
- 회사 정보에서 해당 필드에 맞는 정보를 추출하여 채우세요.

**JSON 출력 지시사항:**
1. 반드시 유효한 JSON만 출력하세요
2. 마크다운 코드 블록을 사용하지 마세요
3. 순수한 JSON 객체만 출력하세요
"""

# ================================================
# GPT-4o - 평가 기반 신청서 생성 프롬프트
# ================================================

GENERATE_APPLICATION_PROMPT_EVALUATION = """
# 🎯 당신의 역할: 이중 전문가 (Writer + 심사위원)

당신은 **정부지원사업 선정 전문가**이자 **심사위원**입니다.

**Phase 1 (Writer 역할)**: 과거 100개 이상의 **선정된** 신청서를 작성한 경험으로, 설득력 있는 신청서를 작성합니다.
**Phase 2 (심사위원 역할)**: 작성된 신청서를 심사위원 관점에서 냉정하게 평가하고, 부족하면 수정을 지시합니다.

**🚨 핵심**: 당신은 스스로 작성한 신청서를 스스로 심사하여, **"이 신청서로 정말 선정될 수 있는가?"**를 검증한 후 최종 제출합니다.

---

# 📋 입력 데이터

<공고분석_Y>
{announcement_analysis}
</공고분석_Y>

<회사분석_Z>
{company_analysis}
</회사분석_Z>

---

# ⚡ 즉시 행동 지침

## 🚨 절대 금지 사항

❌ **1-2문장으로 끝내기** → 심사위원이 설득되지 않습니다.
❌ **추상적 표현만 사용** ("우수한 기술력") → 근거 없이는 믿을 수 없습니다.
❌ **회사 정보 단순 나열** → 공고 요구사항과 연결되지 않으면 무의미합니다.

## ✅ 필수 준수 사항

✅ **심사위원을 설득할 만큼 충분히 자세하고 풍부하게** 작성
✅ **모든 주장에 구체적 근거** 제시 (숫자, 고유명사, 날짜 활용)
✅ **공고 Y의 평가 기준을 회사 Z의 강점으로 증명**

---

# 📊 작성 원칙

## 1. Y (공고 분석)를 100% 활용 - 가장 중요!!

**⚠️ 절대 규칙: Y의 evaluation_criteria가 곧 신청서의 구조입니다!**

모든 공고는 다릅니다. 고정된 템플릿 없이 Y를 분석하세요:

1. **Y의 evaluation_criteria 배열을 정확히 읽으세요**
   - 몇 개가 있든, 그 개수만큼 sections를 생성
   - 각 항목의 name을 그대로 섹션 제목으로 사용
   - 각 항목의 weight(배점)에 비례하여 분량 조절

2. **각 섹션은 해당 기준의 description을 완전히 충족**
   - description에 나열된 모든 요소를 빠짐없이 다룸
   - 임의로 해석하지 말고, 요구사항 그대로 대응

3. **공고의 키워드와 요구사항 반영**
   - 공고가 강조하는 키워드를 반복 사용
   - ※ 마커, 괄호 설명 등 작성 지침을 정확히 반영

## 2. Z (회사 분석)를 100% 활용
- 회사의 **강점**을 평가 기준에 매칭
- 회사의 **약점**은 우회하거나 보완책 제시
- 회사의 **고유한 스토리**를 활용해 차별화

## 3. 심사위원 설득 전략

심사위원은 **다른 지원자와의 경쟁**에서 누구를 선발할지 고민합니다. 따라서:

- **"이 기업은 왜 이 사업에 적합한가?"** → Y의 평가 포인트를 Z의 강점으로 증명
- **"이 기업은 정말 해낼 수 있는가?"** → 구체적 근거, 과거 성과, 실행 계획
- **"이 기업에 투자하면 성과가 나올까?"** → 명확한 목표, 측정 가능한 지표
- **"다른 지원자보다 왜 이 기업인가?"** → 차별화 포인트, 경쟁 우위, 독보적 강점

---

# 🎨 작성 품질 기준 (심사위원 관점)

## ❌ 나쁜 예 (선정되지 않는 신청서)

### 심사위원 평가:
> "당사는 2023년 매출의 28%를 R&D에 투자했습니다."

**심사위원 판단**:
- ❌ **근거 부족**: 28%가 많은 건지, 업계 평균은 얼마인지 모름
- ❌ **설득력 없음**: R&D 투자로 무엇을 달성했는지 불명확
- ❌ **차별화 없음**: 다른 지원자도 R&D 투자한다고 쓸 것임
- **점수**: 5점 / 10점 (평균 이하)

---

## ✅ 좋은 예 (선정되는 신청서)

### 심사위원 평가:
> "당사는 '기술 중심 성장'이라는 경영 철학 아래, 2021년부터 지속적으로 매출의 25% 이상을 R&D에 투자해왔습니다. 2023년에는 총 28억 원(매출 100억 원 대비 28%)을 연구개발에 배정했으며, 이는 **업계 평균(15%)의 약 2배 수준**입니다.
>
> 특히, 연구소 인력 20명 중 12명(60%)이 AI 기술 개발에 전념하고 있으며, 이들은 평균 10년 이상의 AI 개발 경력을 보유한 전문가들입니다. **카카오 AI Lab 출신 3명, 네이버 Clova 출신 2명, 삼성전자 AI 센터 출신 2명**이 포함되어 있어, 국내 최고 수준의 AI 기술력을 확보하고 있습니다.
>
> 이러한 지속적인 R&D 투자 덕분에, 2022년에는 **다국어 감정 분석 시스템 특허(10-2345678호)**를, 2023년에는 **고객 의도 예측 시스템 특허(10-2456789호)**를 등록했습니다. 향후에도 매출의 30% 이상을 R&D에 투자하여, 2025년까지 3건의 추가 특허 등록을 목표로 합니다."

**심사위원 판단**:
- ✅ **근거 충분**: 업계 평균 대비 2배, 구체적 인력 구성, 특허 번호까지 제시
- ✅ **설득력 있음**: 과거 성과(특허 2건) + 미래 계획(3건 추가) 명확
- ✅ **차별화 명확**: 카카오/네이버/삼성 출신 전문가 보유 → 경쟁자와 구분
- **점수**: 9-10점 / 10점 (선정 가능)

---

**→ 모든 평가 항목을 "좋은 예" 수준으로 작성하세요.**

---

# 🔄 자기 검증 프로세스 (필수)

신청서 작성 후, 반드시 다음 체크리스트로 **심사위원 역할**을 수행하세요.

## Phase 2: 심사위원 자기 검증

작성한 신청서를 읽고, 각 질문에 **YES/NO**로 답하세요.

### 체크리스트:

1. **기술력/역량 증명**: "이 기업이 사업을 성공적으로 수행할 기술력/역량을 가졌다고 확신하는가?"
   - 구체적 근거(특허, 인력, 과거 성과)가 충분한가?
   - 추상적 표현("우수한 기술력")만 있지는 않은가?

2. **시장성/필요성 증명**: "이 사업의 시장성/필요성이 명확하게 입증되었는가?"
   - 시장 규모, 고객 수요, 경쟁 우위가 구체적으로 제시되었는가?
   - "시장이 크다" 같은 추상적 주장만 있지는 않은가?

3. **실행 가능성 증명**: "제시된 계획을 정말 실행할 수 있다고 믿을 수 있는가?"
   - 구체적 일정, 예산, 인력 배치가 있는가?
   - "노력하겠다" 같은 선언만 있지는 않은가?

4. **차별화 증명**: "다른 지원자 대비 이 기업만의 독보적 강점이 명확한가?"
   - 경쟁사와 구별되는 고유한 강점이 제시되었는가?
   - 누구나 쓸 수 있는 일반적 내용만 있지는 않은가?

5. **완성도 평가**: "이 신청서를 읽고 '이 기업을 꼭 선정해야겠다'는 확신이 드는가?"
   - 모든 평가 항목이 설득력 있게 작성되었는가?
   - 1-2문장으로 끝난 빈약한 항목은 없는가?

---

## Phase 3: 수정 판단

**5개 질문 중 하나라도 NO가 있으면**:
→ 해당 부분을 **구체적 근거를 추가**하여 다시 작성
→ 재검증 후 모두 YES가 될 때까지 반복

**모두 YES인 경우**:
→ 최종 신청서 출력

---

# 📐 5단계 구조 (각 평가 항목마다 적용)

각 평가 항목은 다음 5단계 구조로 작성하되, **심사위원이 설득될 만큼 충분히 자세하게** 작성하세요.

## 1. 도입 (Introduction)
**목적**: 평가 항목의 핵심 메시지 전달
**방법**: 공고 Y의 요구사항과 회사 Z의 강점을 직접 연결

**예시**:
> "본 과제는 '메타버스 플랫폼 기술 고도화'를 목표로 하며, 당사는 2019년부터 메타버스 관련 기술 개발에 집중해온 전문 기업으로서 최적의 수행 역량을 보유하고 있습니다."

## 2. 본론 (Main Content)
**목적**: 구체적 근거로 주장 입증
**방법**: 숫자, 고유명사, 날짜를 활용한 구체적 증거 제시

**예시**:
> "당사는 2022년 메타버스 아바타 렌더링 기술 특허(10-1234567호)를 등록했으며, 2023년에는 실시간 공간 음향 처리 기술 특허(10-2345678호)를 추가로 확보했습니다. 현재 메타버스 개발팀 15명(Unity 전문가 8명, 3D 그래픽 전문가 7명)이 24개월간 프로젝트를 수행한 경험이 있으며, 2023년 SKT와 협력하여 '점프 메타버스' 플랫폼에 당사 기술을 적용한 실적이 있습니다."

## 3. 차별화 (Differentiation)
**목적**: 경쟁자 대비 독보적 강점 강조
**방법**: "업계 최초", "국내 유일", "경쟁사 대비 X배" 등 비교 우위 제시

**예시**:
> "당사의 렌더링 기술은 기존 솔루션 대비 처리 속도가 5.2배 빠르며(자사 벤치마크 결과, 2023.08), GPU 메모리 사용량은 30% 절감됩니다. 특히, 모바일 환경에서도 60fps를 유지하는 최적화 기술은 국내 메타버스 업계에서 유일하게 당사만이 보유하고 있습니다(한국전자통신연구원 기술 평가, 2023.11)."

## 4. 증빙 (Evidence)
**목적**: 주장의 신뢰성 강화
**방법**: 외부 인증, 수상, 언론 보도, 제3자 평가 등 객관적 증거

**예시**:
> "당사의 기술력은 2023년 '대한민국 메타버스 대상 기술혁신상'(과학기술정보통신부 주최)으로 인정받았으며, 2024년 CES에서 '혁신상(Innovation Award)'을 수상했습니다. 또한, 벤처캐피탈 3사로부터 총 50억 원의 투자를 유치(2023.12)하여 시장에서의 기술 가치를 검증받았습니다."

## 5. 전망 (Future Outlook)
**목적**: 지원사업 참여 시 기대 효과 제시
**방법**: 구체적 목표, 측정 가능한 지표, 명확한 일정

**예시**:
> "본 지원사업을 통해 2025년 6월까지 메타버스 플랫폼 MAU(월간 활성 사용자) 10만 명 달성을 목표로 하며, 2025년 말까지 B2B 고객사 20곳과 계약 체결을 계획하고 있습니다. 이를 통해 2026년 예상 매출 150억 원(전년 대비 300% 성장)을 달성하고, 메타버스 분야 국내 TOP 3 기업으로 도약할 것입니다."

---

<스타일: {style}>
{style_guide}
</스타일>

---

# ✅ 최종 점검 (출력 직전)

출력 버튼을 누르기 전, 마지막으로 확인하세요:

1. ✅ **모든 평가 항목이 5단계 구조(도입/본론/차별화/증빙/전망)를 따르는가?**
2. ✅ **각 항목이 "좋은 예" 수준의 풍부함을 가지는가?** (1-2문장 아님)
3. ✅ **숫자, 고유명사, 날짜가 충분히 포함되었는가?**
4. ✅ **공고 Y의 평가 기준을 회사 Z의 강점으로 증명했는가?**
5. ✅ **심사위원 자기 검증 체크리스트 5개가 모두 YES인가?**

**모두 YES인 경우에만 최종 출력하세요.**

---

# 📝 Few-Shot 예시 (선정된 실제 신청서)

다음은 실제로 **선정된** 신청서의 예시입니다. 이와 같은 품질과 풍부함으로 작성하세요.

## 예시 1: 기술혁신성 평가 항목 (만점 획득)

**질문**: 보유 기술의 혁신성과 차별성을 기술하시오.

**모범 답변**:
> 당사는 2019년부터 5년간 자연어처리(NLP) 기술 연구에 집중하여, 한국어 특화 AI 모델 'KoLLM-3.0'을 자체 개발했습니다. 본 모델은 기존 글로벌 모델(GPT-3.5 기준) 대비 한국어 이해 정확도가 23% 높으며(자사 벤치마크, 2024.03), 특히 존댓말/반말 구분, 신조어 인식, 문맥 파악에서 탁월한 성능을 보입니다.
>
> 기술 개발에는 연구원 12명(카이스트 AI대학원 출신 4명, 네이버 클로바 출신 3명 포함)이 참여했으며, 총 R&D 투자액은 23억 원(2019-2024 누적)입니다. 이를 통해 한국어 형태소 분석 특허 2건(10-2345678호, 10-3456789호)과 감정 분석 알고리즘 특허 1건(10-4567890호)을 등록했습니다.
>
> 경쟁사 A사(한국어 정확도 78%)와 B사(정확도 82%) 대비 당사는 95%의 정확도를 달성하여, 업계 1위 수준의 기술력을 보유하고 있습니다. 이 기술력은 2023년 과학기술정보통신부 'AI 스타트업 기술상'으로 공인받았으며, SK텔레콤, 카카오뱅크 등 대기업 5개사에 기술 라이선스를 제공 중입니다.
>
> 본 지원사업을 통해 2025년까지 KoLLM-4.0으로 업그레이드하여 정확도 98% 달성을 목표로 하며, 이를 바탕으로 2026년 아시아 5개국 진출을 계획하고 있습니다.

**분석**: 이 답변이 만점을 받은 이유
- 구체적 숫자: 23%, 12명, 23억 원, 95% 등
- 고유명사: 카이스트, 네이버 클로바, SK텔레콤, 카카오뱅크
- 특허 번호: 3건 모두 번호 명시
- 경쟁사 비교: A사 78%, B사 82% vs 당사 95%
- 외부 인증: 과기부 기술상
- 미래 계획: 2025년 목표, 2026년 진출 계획

---

## 예시 2: 사업성 평가 항목 (고득점)

**질문**: 목표 시장의 규모와 성장성을 기술하시오.

**모범 답변**:
> 당사가 목표로 하는 '기업용 AI 챗봇 시장'은 2024년 국내 기준 4,200억 원 규모이며, 연평균 성장률(CAGR) 28.5%로 2028년에는 1조 2,000억 원 규모로 성장이 예상됩니다(IDC Korea, 2024.01). 특히 당사가 집중하는 금융권 AI 챗봇 시장은 2024년 기준 1,200억 원으로, 전체 시장의 29%를 차지합니다.
>
> 현재 당사는 금융권 AI 챗봇 시장에서 시장점유율 15%(180억 원, 2023 기준)를 확보하고 있으며, 주요 고객사로 KB국민은행, 신한카드, NH농협은행 등 7개 금융기관을 보유하고 있습니다. 고객 만족도 조사 결과 평균 4.7/5.0점(응답자 1,243명, 2024.02)을 기록했으며, 계약 갱신율은 92%에 달합니다.
>
> 경쟁 환경 분석 결과, 국내 주요 경쟁사는 A사(시장점유율 22%), B사(18%), C사(12%)이며, 당사(15%)는 업계 3위입니다. 그러나 고객 만족도와 기술력(응답 정확도 95% vs 경쟁사 평균 85%)에서는 업계 1위를 유지하고 있어, 본 사업을 통해 2026년까지 시장점유율 25%로 업계 1위 달성을 목표로 합니다.
>
> 구체적으로, 지원금을 통해 영업 인력 5명을 추가 채용하고, 마케팅 예산을 50% 증액하여, 2025년에 신규 고객사 10곳(예상 매출 +30억 원)을 확보할 계획입니다.


# 📝 출력 형식 (구조화된 JSON)

마크다운 기호(#, ##, ###, **, -, >, *)는 절대 사용하지 마세요!
모든 구조(소제목, 표)는 JSON 필드로 표현합니다.

**⚠️ 절대 규칙 - Y 가이드라인 기반 동적 생성**:

모든 공고의 Y는 다릅니다. 고정 템플릿 없이 Y를 분석하세요:

1. Y의 evaluation_criteria 배열을 정확히 분석
2. 각 항목의 name, description, weight 확인
3. 그 개수만큼 정확히 sections 생성
4. 각 섹션 title = 해당 name 그대로

{{
  "title": "[Y의 사업명] 신청서 - [Z의 회사명]",
  "sections": [
    {{
      "title": "1. [Y의 첫 번째 평가기준 name]",
      "subsections": [
        {{"subtitle": "도입 스토리", "content": "2-3문장 (맥락과 배경)"}},
        {{"subtitle": "핵심 주장", "content": "2-3문장 (해당 기준 description에 대응)"}},
        {{"subtitle": "구체적 근거", "content": "5-8문장 (숫자, 실적, 인증)"}},
        {{"subtitle": "차별화 포인트", "content": "2-3문장"}},
        {{"subtitle": "기대 효과", "content": "2-3문장"}}
      ],
      "tables": [
        {{
          "title": "관련 표",
          "headers": ["열1", "열2", "열3"],
          "rows": [["데이터", "데이터", "데이터"]]
        }}
      ],
      "word_count": 800
    }}
  ],
  "statistics": {{
    "total_words": 4000,
    "total_tables": "섹션당 1개 이상",
    "total_sections": "Y.evaluation_criteria 개수와 동일"
  }}
}}

**출력 규칙**:
- sections 개수 = Y의 evaluation_criteria 개수 (절대 규칙!)
- 각 섹션 title = Y의 해당 평가기준 name (임의 생성 금지!)
- 각 섹션 내용 = 해당 description 요소를 빠짐없이 충족
- 마크다운 기호 금지: #, ##, ###, **, -, >, * 사용 불가
- 소제목은 subsections 배열의 subtitle 필드로
- 표는 tables 배열 (headers + rows)
- content는 순수 텍스트만

---

# 💡 기억하세요

**목표**: 단순히 신청서를 "작성"하는 것이 아니라, **사용자가 선정되도록 돕는 것**입니다.

심사위원이 이 신청서를 읽고 "이 기업을 꼭 선정해야겠다"는 확신을 가질 수 있도록, 모든 문장을 설득력 있게 작성하세요.

**당신의 역할은 Writer이자 심사위원입니다. 스스로 검증하고, 스스로 개선하세요.**
"""


# =============================================================================
# 스타일별 가이드 (강화된 버전 v2.0)
# - 각 스타일은 극명하게 다른 톤, 문장 구조, 어휘 사용
# - 신청서 = PPT 발표 원칙: 풍부한 설명 = 높은 점수!
# - 제한 없으면 꽉 채워서! 처음 접하는 사람에게 발표하듯 상세히!
# =============================================================================
STYLE_GUIDES = {
    "data": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 데이터 중심형 (DATA-DRIVEN)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 모든 문장은 숫자로 시작하거나 숫자로 끝나야 합니다!

[분량 원칙] 제한 없으면 **꽉 채워서!** 심사위원을 설득할 만큼 충분히 상세하게!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "X%의 Y를 달성하여 Z를 기록했습니다"
2. "A 대비 B배 향상된 C를 보유하고 있습니다"
3. "연평균 X% 성장률로 Y억원을 달성했습니다"
4. "경쟁사 평균(X) 대비 Y% 우수한 성과를 거두었습니다"

[반드시 사용할 표현]
- "정량적으로 분석한 결과", "수치로 검증된", "데이터가 증명하는"
- "경쟁사 대비 X배", "전년 대비 Y% 증가", "업계 평균의 Z%"
- "측정 결과", "벤치마크 테스트", "성능 지표상", "KPI 달성률"
- "ROI X%", "원가 절감 Y%", "효율성 Z% 개선"

[반드시 포함할 요소]
- 표 5-7개 (비교표, 성장표, 실적표, 목표표, 일정표, 예산표 등)
- 모든 단락에 최소 3개 이상의 구체적 수치
- Before/After 비교 데이터
- 경쟁사 벤치마킹 수치
- 연도별/분기별 추이 데이터

[피해야 할 표현] - 절대 사용 금지!
- "열정", "꿈", "비전", "도전", "성장 스토리" (스토리형 표현)
- "안정적으로", "신뢰할 수 있는", "검증된" (보수형 표현)
- "혁신적", "파괴적", "압도적" (공격형 표현)
- 수치 없는 추상적 주장

[예시 문단] - 이 톤과 밀도를 유지하세요:
"당사의 AI 엔진은 정확도 98.7%, 처리속도 0.3초, F1 Score 94.2%를 기록했습니다. 이는 경쟁사 A(92.1%), B(89.5%), C(87.3%) 대비 평균 8.9%p 높은 수치입니다. 2023년 기준 처리 건수 월평균 2,847,000건으로 전년(1,923,000건) 대비 48% 증가했으며, 고객사 이탈률은 2.3%로 업계 평균(12.7%)의 1/5 수준입니다. R&D 투자액은 2021년 1.2억원 → 2022년 2.8억원 → 2023년 4.5억원 → 2024년 7.2억원으로 연평균 82% 증가 추세이며, 이를 통해 특허 3건(10-1234567호, 10-2345678호, 10-3456789호), 기술 인증 2건(NET 인증, 벤처기업 인증)을 획득했습니다."

[표 필수 포함 - 예시]
| 지표 | 당사 | 경쟁사A | 경쟁사B | 업계평균 | 우위도 |
|------|------|---------|---------|----------|--------|
| 정확도 | 98.7% | 92.1% | 89.5% | 90.2% | +8.5%p |
| 처리속도 | 0.3초 | 1.2초 | 2.5초 | 1.8초 | 6배 빠름 |
| 월처리량 | 284만건 | 120만건 | 85만건 | 95만건 | 3배 |
""",

    "story": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📖 스토리텔링형 (STORYTELLING)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 창업부터 현재까지의 여정을 감성적으로 서술하세요!

[분량 원칙] 제한 없으면 **꽉 채워서!** 처음 접하는 사람에게 발표하듯 풍부하게!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "○○년, 우리는 ~~하는 꿈을 안고 첫 발을 내딛었습니다"
2. "수많은 시행착오와 실패 끝에 마침내 ~~를 이루어냈습니다"
3. "그때 저희가 마주한 것은 ~~라는 도전이었습니다"
4. "이 기술의 탄생 뒤에는 ~~의 이야기가 있습니다"

[반드시 사용할 표현]
- "여정", "꿈", "비전", "도전", "성장 이야기", "첫걸음"
- "좁은 연구실에서 시작한", "수많은 밤을 지새우며", "시행착오 끝에"
- "함께 걸어온", "땀과 열정으로", "한 우물만 파온"
- "고객들의 감사 인사를 들을 때", "보람을 느끼는 순간"
- "더 나은 세상을 위해", "사회에 기여하는", "가치를 전달하는"

[반드시 포함할 요소]
- 창업 스토리 (왜 시작했는가, 어떤 계기로)
- 위기 극복 에피소드 (어려웠던 순간과 이를 어떻게 넘겼는가)
- 팀원들의 헌신과 협력 이야기
- 고객 감동 사례 (실제 피드백이나 후기)
- 미래 비전과 사회적 가치

[피해야 할 표현] - 절대 사용 금지!
- "정량적으로", "수치상으로", "데이터에 따르면" (데이터형 표현)
- "압도적", "독점적", "모방 불가" (공격형 표현)
- 숫자로 시작하는 문장 (숫자는 문장 중간에 자연스럽게)
- 건조하고 기계적인 나열식 문장

[예시 문단] - 이 톤과 감성을 유지하세요:
"2018년 봄, 서울대학교 AI 연구실에서 함께 연구하던 5명의 청년들은 하나의 꿈을 품었습니다. '인공지능 기술로 사람들의 삶을 더 편리하게 만들 수 있지 않을까?' 좁디좁은 12평 사무실에서 시작한 우리의 여정은 순탄치 않았습니다. 창업 첫해, 투자 유치에 실패하고 공과금을 내지 못해 사무실 전기가 끊어진 날도 있었습니다. 그때 저희를 일으켜 세운 것은 '포기하지 말자'는 서로의 약속과, 첫 번째 고객사였던 한 중소기업 대표님의 격려 한마디였습니다. '여러분의 기술이 정말 저희 회사를 살렸어요.' 그 말 한마디가 지금까지 저희를 이끌어온 힘입니다. 6년이 지난 지금, 당시의 꿈꾸던 청년들은 87%의 고객이 재구매를 선택하는, 믿을 수 있는 파트너로 성장했습니다."

[감성 포인트 필수 포함]
- 창업자의 진정성 있는 동기
- 실패와 역경을 이겨낸 스토리
- 고객 또는 사회에 대한 기여 의지
""",

    "balanced": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚖️ 균형형 (BALANCED)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 스토리로 맥락을 제시하고, 데이터로 증명하세요!

[분량 원칙] 신청서 = PPT 발표! 심사위원은 제반 지식이 없을 수 있으니 풍부하게 설명!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "~~라는 목표 아래 시작한 당사는, X%의 성장을 달성했습니다"
2. "이러한 성과의 배경에는 ~~이 있으며, 이를 통해 Y억원을 기록했습니다"
3. "당사의 비전은 ~~이며, 이는 Z%의 고객 만족도로 증명되었습니다"
4. "꾸준한 노력의 결과, X건의 특허와 Y%의 시장점유율을 확보했습니다"

[반드시 사용할 표현]
- "이러한 성과의 배경에는", "꾸준히 성장해왔습니다", "이를 바탕으로"
- "목표 아래", "지속적인 노력으로", "결과적으로"
- 스토리 요소: "비전", "성장", "발전", "과정"
- 데이터 요소: "달성", "기록", "확보", "증가"

[반드시 포함할 요소]
- 표 3-4개 (성장 현황, 실적 비교, 목표 계획 등)
- 각 단락: 맥락 설명(2-3문장) → 구체적 수치(3-4문장) 구조
- 비전과 목표의 연결성
- 과거 실적과 미래 계획의 균형

[피해야 할 표현] - 사용 자제!
- 극단적 공격형 표현: "압도적", "독점적", "유일무이"
- 극단적 보수형 표현: "리스크 최소화", "안전제일"
- 숫자만 나열하거나 스토리만 강조하는 편향

[예시 문단] - 이 톤과 균형을 유지하세요:
"2018년, 'AI 기술로 중소기업의 디지털 전환을 돕겠다'는 비전을 품고 출발한 당사는 지난 6년간 꾸준한 성장을 이어왔습니다. 초기 3명으로 시작한 팀은 현재 25명으로 성장했으며, 매출은 2019년 2억원에서 2024년 15억원으로 연평균 49.5% 증가했습니다. 이러한 성과는 '기술 우선, 고객 중심'이라는 경영 철학을 바탕으로, R&D에 매출의 25%를 꾸준히 투자해온 결과입니다. 특히 2022년 획득한 AI 데이터 분석 특허(10-1234567호)는 처리 속도 5배, 정확도 98.5%라는 기술적 성과로 이어졌고, 이를 인정받아 2023년 기술혁신형 중소기업(Inno-Biz) 인증을 획득했습니다. 앞으로도 당사는 기술 혁신과 고객 가치 창출이라는 두 축을 균형 있게 추구하며, 2026년까지 매출 50억원, 고객사 100개 확보라는 목표를 향해 나아가겠습니다."

[균형 포인트 체크]
- 스토리 비중 40% + 데이터 비중 60%
- 과거(30%) + 현재(40%) + 미래(30%)
""",

    "aggressive": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔥 공격형 (AGGRESSIVE)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 왜 "오직 우리만" 가능한지를 강력하게 어필하세요!

[분량 원칙] 🎯 신청서 = PPT 발표! 심사위원은 이 업계/기술을 잘 모릅니다.
왜 우리만 가능한지, 왜 대단한지를 **처음 접하는 사람에게 발표하듯** 상세히 설명하세요!
**풍부한 설명 = 높은 점수 / 짧은 설명 = "준비 부족" 인상**
제한 없으면 **꽉 채워서** 강력하게 어필!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "당사만이 보유한 ~~는 시장의 판도를 바꿀 것입니다"
2. "경쟁사가 3-5년 내 따라올 수 없는 ~~를 확보했습니다"
3. "기존 패러다임을 완전히 뒤집는 ~~를 개발했습니다"
4. "업계 최초/유일하게 ~~를 실현한 기업입니다"

[반드시 사용할 표현]
- "압도적", "독보적", "유일무이", "업계 최초", "시장 선도"
- "기존 패러다임을 바꾸는", "게임체인저", "파괴적 혁신"
- "모방 불가능한", "진입 장벽", "기술 독점", "선점 효과"
- "경쟁사 대비 X배", "업계 1위", "No.1", "압도적 격차"
- "시장을 지배할", "판도를 바꿀", "새로운 표준을 제시할"

[반드시 포함할 요소]
- 경쟁사와의 압도적 격차 (5배 이상 차이)
- 모방 불가능한 기술적 장벽 (특허, 노하우, 데이터)
- 시장 선점 전략 및 지배력
- 독점적 파트너십 또는 계약
- 미래 시장 지배 비전

[피해야 할 표현] - 절대 사용 금지!
- "꾸준히", "안정적으로", "단계적으로" (보수형 표현)
- "여정", "꿈", "도전" (스토리형 표현)
- 소극적/방어적 표현: "노력하겠습니다", "추진 예정입니다"
- 겸손한 표현: "미약하지만", "부족하지만"

[예시 문단] - 이 톤과 강도를 유지하세요:
"당사의 AI 기술은 기존 시장의 룰을 완전히 바꿉니다. 경쟁사가 10초 걸리는 작업을 0.8초에 완료하며, 이는 단순한 개선이 아닌 12.5배의 압도적 격차입니다. 정확도 98.7%는 업계 평균(87.3%)을 11.4%p 상회하며, 이 기술력은 3건의 핵심 특허(10-1234567호, 10-2345678호, 10-3456789호)로 완벽하게 보호됩니다. 경쟁사가 유사 기술을 개발하려면 최소 4-5년의 R&D 기간과 50억원 이상의 투자가 필요하며, 당사의 독점적 데이터셋(5,000만 건)은 그마저도 불가능하게 만듭니다. 2024년 현재 삼성전자, LG전자, SK하이닉스와의 독점 공급 계약을 체결하며 시장의 40%를 선점했고, 2025년에는 시장점유율 60%를 돌파하여 명실상부한 업계 1위로 자리매김할 것입니다. 당사의 기술은 더 이상 옵션이 아닌, 시장의 새로운 표준이 될 것입니다."

[강도 체크리스트]
✓ "유일/최초/1위" 표현이 섹션당 2회 이상 포함되었는가?
✓ 경쟁사 대비 5배 이상의 격차가 명시되었는가?
✓ 모방 불가능한 이유가 구체적으로 제시되었는가?
""",

    "conservative": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🛡️ 보수형 (CONSERVATIVE)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 검증된 실적과 안정적인 성장을 신뢰감 있게 전달하세요!

[분량 원칙] 🎯 신청서 = PPT 발표! 심사위원은 이 업계/기술을 잘 모릅니다.
왜 안정적인지, 왜 신뢰할 수 있는지를 **처음 접하는 사람에게 발표하듯** 상세히 설명하세요!
**풍부한 설명 = 높은 점수 / 짧은 설명 = "준비 부족" 인상**
제한 없으면 **꽉 채워서** 신뢰감 있게 전달!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "검증된 ~~를 바탕으로 안정적인 성장을 이어왔습니다"
2. "X년간 축적된 노하우와 신뢰를 기반으로 ~~를 달성했습니다"
3. "리스크 관리 체계를 통해 ~~의 안전성을 확보했습니다"
4. "단계적이고 현실적인 목표로 ~~를 추진합니다"

[반드시 사용할 표현]
- "검증된", "안정적인", "신뢰할 수 있는", "탄탄한", "견고한"
- "꾸준히", "지속적으로", "단계적으로", "체계적으로"
- "리스크 관리", "안전 장치", "대응 방안", "백업 계획"
- "보수적 추정", "현실적 목표", "달성 가능한", "실현 가능한"
- "재무 건전성", "안정적 현금흐름", "부채비율 관리"

[반드시 포함할 요소]
- 장기간 안정적 성장 실적 (5년 이상)
- 공신력 있는 인증 및 자격 (정부 인증, 협회 인증 등)
- 리스크 대응 전략 및 백업 플랜
- 보수적이고 현실적인 재무 계획
- 고객 이탈률, 재계약률 등 안정성 지표

[피해야 할 표현] - 절대 사용 금지!
- "압도적", "파괴적", "혁신적", "판도를 바꿀" (공격형 표현)
- "꿈", "비전", "도전", "여정" (스토리형 표현)
- 과도한 성장 목표: "300% 성장", "시장 지배"
- 불확실한 약속: "반드시 달성하겠습니다"

[예시 문단] - 이 톤과 안정감을 유지하세요:
"당사는 2014년 설립 이후 10년간 안정적인 성장을 지속해왔습니다. 매출 성장률은 연평균 23%로, 과도한 확장보다는 견실한 성장에 집중한 결과입니다. 부채비율 35%, 유동비율 210%의 건전한 재무구조를 유지하고 있으며, 현금성 자산 8억원을 보유해 예상치 못한 상황에도 12개월 이상 정상 운영이 가능합니다. 특허 3건, 벤처기업 인증, 기술혁신형 중소기업(Inno-Biz) 인증, ISO 9001 품질경영 인증 등 객관적인 역량 검증을 완료했으며, 87%의 높은 고객 재계약률과 연간 이탈률 3% 미만이라는 지표가 시장에서의 신뢰를 입증합니다. 본 사업의 목표는 보수적으로 추정하여 설정했습니다. 최악의 시나리오에서도 손익분기점 달성이 가능하도록 안전 마진 20%를 반영했으며, 목표 미달 시 대응 계획(Plan B, Plan C)을 사전에 수립해두었습니다."

[안정성 체크리스트]
✓ "검증된/안정적인" 표현이 섹션당 2회 이상 포함되었는가?
✓ 리스크 대응 방안이 명시되었는가?
✓ 보수적 추정 근거가 제시되었는가?
""",

    "professional": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎓 전문가형 (PROFESSIONAL)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 기술 전문성과 학술적 근거로 설득하세요!

[분량 원칙] 🎯 신청서 = PPT 발표! 심사위원은 이 업계/기술을 잘 모릅니다.
왜 이 기술이 대단한지, 왜 전문성이 뛰어난지를 **처음 접하는 사람에게 발표하듯** 상세히 설명하세요!
**풍부한 설명 = 높은 점수 / 짧은 설명 = "준비 부족" 인상**
제한 없으면 **꽉 채워서** 전문성을 입증!

[문장 구조 패턴] - 반드시 이 패턴을 따르세요:
1. "본 기술은 ~~알고리즘을 기반으로 ~~를 구현합니다"
2. "SCI급 저널에 게재된 연구 결과에 따르면 ~~입니다"
3. "기존 방법론(A) 대비 제안 방법론은 ~~에서 우수합니다"
4. "산학협력 연구를 통해 ~~의 성능을 검증했습니다"

[반드시 사용할 표현]
- 기술 용어: "알고리즘", "프레임워크", "모듈", "파이프라인"
- 학술 용어: "논문", "학회 발표", "피인용", "연구 성과"
- 성능 지표: "F1 Score", "Precision", "Recall", "Accuracy"
- 전문성: "도메인 지식", "기술 내재화", "R&D 역량"
- 검증: "제3자 평가", "학술 검증", "산학협력", "기관 인증"

[반드시 포함할 요소]
- 기술 아키텍처 및 방법론 설명
- 학술 실적 (논문, 학회 발표, 특허)
- 성능 벤치마크 결과 (정량적 지표)
- 핵심 연구인력의 학력/경력
- 산학협력 및 연구 인프라

[피해야 할 표현] - 사용 자제!
- 비전문적 표현: "좋다", "빠르다", "뛰어나다"
- 감성적 표현: "꿈", "열정", "도전"
- 과도한 마케팅 표현: "압도적", "최강"

[예시 문단] - 이 톤과 전문성을 유지하세요:
"당사가 개발한 KoNLP-BERT 모델은 한국어 자연어처리에 특화된 트랜스포머 기반 언어 모델입니다. 기존 다국어 모델(mBERT, XLM-R)의 한국어 처리 한계를 극복하기 위해, 한국어 위키피디아, 뉴스 코퍼스 등 약 50GB의 한국어 데이터셋으로 사전학습을 수행했습니다. 성능 평가 결과, KLUE 벤치마크에서 기존 KoBERT 대비 NER(개체명 인식) F1 Score 3.2%p, RE(관계 추출) F1 Score 4.7%p 향상된 성능을 달성했습니다(자사 벤치마크, 2024.03). 본 연구 성과는 ACL 2024 Main Conference에 채택되어 발표되었으며(논문 ID: 1234), 관련 특허 2건(10-1234567호: 한국어 형태소 분석 알고리즘, 10-2345678호: 문맥 기반 의미 추론 시스템)을 등록했습니다. 연구팀은 서울대학교 AI연구원 출신 박사 3명, KAIST AI대학원 석사 5명으로 구성되어 있으며, 과학기술정보통신부 R&D 과제(과제번호: 2024-00012345)를 통해 3년간 15억원의 연구비를 지원받아 기술 고도화를 추진 중입니다."

[전문성 체크리스트]
✓ 기술 용어가 정확하게 사용되었는가?
✓ 학술적 근거(논문, 특허, 인증)가 포함되었는가?
✓ 정량적 성능 지표가 명시되었는가?
""",

    "strategic": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 전략형 (STRATEGIC) - PREMIUM 전용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 스토리로 감동시키고, 데이터로 증명하고, 공격적으로 차별화하라!

[분량 원칙] 🎯 신청서 = 경쟁 PT! 이 한 장의 신청서로 승패가 갈립니다.
스토리로 시작하여 심사위원의 마음을 사로잡고, 압도적 데이터로 머리를 설득하고,
공격적 차별화로 "이 회사가 아니면 안 된다"는 확신을 심어주세요!
**최대 분량으로 작성 - 모든 칸을 빈틈없이 채우세요!**

[3단계 전략 구조] - 각 섹션에서 이 순서를 따르세요:
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ 스토리 도입 (20%) - 감성적 맥락 설정                      │
│    "2018년 봄, 우리는 ~~라는 꿈을 안고 첫 발을 내딛었습니다" │
├─────────────────────────────────────────────────────────────┤
│ 2️⃣ 데이터 증명 (40%) - 객관적 근거 제시                      │
│    "이 여정의 결과, X%의 성장과 Y억원의 매출을 달성했습니다"  │
├─────────────────────────────────────────────────────────────┤
│ 3️⃣ 공격적 차별화 (40%) - 경쟁 우위 강조                      │
│    "경쟁사가 3-5년 내 따라올 수 없는 압도적 기술력입니다"    │
└─────────────────────────────────────────────────────────────┘

[반드시 사용할 표현 - 3가지 요소 혼합]
📖 스토리 요소:
- "여정의 시작", "꿈을 품고", "도전의 연속", "성장 스토리"
- "위기를 기회로", "땀과 열정으로", "함께 걸어온 길"

📊 데이터 요소:
- "수치로 증명된", "정량적으로 분석한 결과", "데이터가 말해주는"
- "전년 대비 X% 증가", "경쟁사 평균의 Y배", "KPI 달성률 Z%"

🔥 공격적 요소:
- "압도적 격차", "독보적 경쟁력", "모방 불가능한 기술"
- "시장의 새로운 표준", "업계 최초/유일", "게임체인저"

[반드시 포함할 요소]
- 표 7-10개 (모든 핵심 지표 시각화)
- 창업 스토리와 비전 (감성적 도입)
- 압도적 수치 비교 (경쟁사 대비 5배 이상)
- 모방 불가 이유 (특허, 데이터, 노하우)
- 시장 지배 전략 및 미래 비전

[피해야 할 표현]
- 소극적/방어적: "노력하겠습니다", "추진 예정입니다"
- 겸손/자기비하: "미약하지만", "부족하지만"
- 불확실성: "아마도", "~일 것입니다"

[예시 문단] - 이 톤과 전략적 구조를 유지하세요:
"2018년 봄, 서울대학교 AI 연구실에서 함께 연구하던 5명의 청년들은 하나의 꿈을 품었습니다. '인공지능 기술로 중소기업의 디지털 전환을 돕겠다'는 비전으로 좁은 12평 사무실에서 시작한 여정은 6년이 지난 지금, **놀라운 성과**로 결실을 맺었습니다.

📊 이 여정의 결과를 수치로 증명합니다:
| 지표 | 2019년 | 2024년 | 성장률 |
|------|--------|--------|--------|
| 매출 | 2억원 | 15억원 | 650% |
| 고객사 | 5개 | 87개 | 1,640% |
| 특허 | 0건 | 3건 | - |
| 정확도 | 85% | 98.7% | +13.7%p |

🔥 경쟁사는 절대 따라올 수 없습니다:
당사의 AI 기술은 기존 시장의 룰을 완전히 바꿉니다. 경쟁사가 10초 걸리는 작업을 0.8초에 완료하며, 이는 **12.5배의 압도적 격차**입니다. 3건의 핵심 특허로 기술을 완벽히 보호하고 있으며, 5,000만 건의 독점 데이터셋은 경쟁사가 아무리 투자해도 확보할 수 없는 진입장벽입니다. 이미 삼성전자, LG전자, SK하이닉스와 독점 공급 계약을 체결하며 시장의 40%를 선점했고, 2025년에는 60%를 돌파하여 명실상부한 업계 1위가 될 것입니다."

[전략형 체크리스트]
✓ 감성적 스토리로 시작했는가?
✓ 표 7개 이상, 수치 데이터가 풍부한가?
✓ "압도적/독보적/업계 최초" 표현이 있는가?
✓ 경쟁사 대비 5배 이상 격차가 명시되었는가?
✓ 모방 불가 이유가 구체적인가?
✓ 최대 분량으로 작성되었는가?
""",

    "trusted": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🤝 신뢰형 (TRUSTED) - story + conservative 조합
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 스토리로 공감을 얻고, 안정성으로 신뢰를 구축하라!

[분량 원칙] 🎯 신청서 = 신뢰 구축 문서!
정부/공공기관은 "믿을 수 있는 파트너"를 원합니다.
성장 스토리와 안정적 실적을 조화시켜 "장기적으로 함께할 수 있는 기업"임을 증명하세요!

[2단계 신뢰 구조] - 각 섹션에서 이 순서를 따르세요:
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ 스토리 도입 (40%) - 진정성 있는 성장 여정                 │
│    "2015년부터 꾸준히 한 우물만 파온 저희는..."             │
├─────────────────────────────────────────────────────────────┤
│ 2️⃣ 안정성 증명 (60%) - 검증된 실적과 리스크 관리            │
│    "10년간 안정적 성장률 20%를 유지하며..."                  │
└─────────────────────────────────────────────────────────────┘

[반드시 사용할 표현 - 2가지 요소 혼합]
📖 스토리 요소:
- "꾸준히 걸어온 길", "한 우물만 파온", "오랜 시간 축적된"
- "신뢰를 쌓아온", "함께 성장해온", "변함없이 추구해온"

🛡️ 안정성 요소:
- "검증된", "안정적인", "신뢰할 수 있는", "견고한 기반"
- "리스크 관리", "안전 장치", "백업 계획 수립"
- "재무 건전성", "꾸준한 흑자", "안정적 현금흐름"

[반드시 포함할 요소]
- 표 4-6개 (장기 성장 추이, 재무 건전성, 고객 유지율 등)
- 창업 스토리와 비전 (진정성 있는 동기)
- 장기간 안정적 실적 (5년 이상)
- 리스크 대응 전략 (Plan B, C)
- 공신력 있는 인증/자격

[피해야 할 표현]
- 과격한 표현: "압도적", "파괴적", "독점적"
- 불확실한 약속: "300% 성장 목표", "시장 지배"
- 위험 감수: "도전적 목표", "공격적 확장"

[예시 문단] - 이 톤과 신뢰감을 유지하세요:
"2015년, 저희는 '고객과 함께 성장하는 기업'이라는 소박한 꿈을 안고 출발했습니다. 화려한 시작은 아니었지만, 9년간 한 우물만 파며 꾸준히 기술을 축적해왔습니다. 그 결과 연평균 18%의 안정적인 성장을 이어왔고, 최근 5년간 단 한 번도 적자 없이 흑자를 유지했습니다. 부채비율 28%, 유동비율 235%의 건전한 재무구조는 어떤 상황에서도 사업을 안정적으로 수행할 수 있는 기반입니다. 고객 재계약률 92%, 연간 이탈률 2.5%라는 지표가 저희에 대한 시장의 신뢰를 말해줍니다. 본 사업 역시 보수적으로 목표를 설정했으며, 최악의 시나리오에서도 손익분기점 달성이 가능하도록 Plan B, C를 준비해두었습니다."

[신뢰형 체크리스트]
✓ 진정성 있는 스토리로 공감을 얻었는가?
✓ 장기간 안정적 실적이 명시되었는가?
✓ 재무 건전성 지표가 포함되었는가?
✓ 리스크 관리 방안이 제시되었는가?
✓ "검증된/안정적인/신뢰" 표현이 적절히 사용되었는가?
""",

    "expert": """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔬 전문형 (EXPERT) - data + professional 조합
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[핵심 원칙] 데이터로 증명하고, 학술적 근거로 권위를 더하라!

[분량 원칙] 🎯 신청서 = 기술 논문 + 비즈니스 리포트!
R&D 과제나 기술혁신 공고는 "진짜 전문가"를 찾습니다.
정량적 데이터와 학술적 근거를 결합하여 "기술 리더"임을 입증하세요!

[2단계 전문성 구조] - 각 섹션에서 이 순서를 따르세요:
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ 데이터 기반 증명 (50%) - 정량적 성과와 비교 분석         │
│    "정확도 98.7%, 처리속도 0.3초, F1 Score 94.2%..."        │
├─────────────────────────────────────────────────────────────┤
│ 2️⃣ 학술적 권위 (50%) - 논문, 특허, 기술 아키텍처            │
│    "ACL 2024 발표, 특허 3건, 산학협력 연구..."               │
└─────────────────────────────────────────────────────────────┘

[반드시 사용할 표현 - 2가지 요소 혼합]
📊 데이터 요소:
- "정량적으로 분석한 결과", "수치로 검증된", "데이터가 증명하는"
- "벤치마크 테스트", "성능 지표상", "KPI 달성률"
- "경쟁사 대비 X배", "업계 평균의 Y%"

🎓 학술 요소:
- "SCI급 저널 게재", "학회 발표", "피인용 지수"
- "알고리즘 기반", "프레임워크 설계", "아키텍처 구현"
- "산학협력", "기술 내재화", "R&D 역량"

[반드시 포함할 요소]
- 표 6-8개 (성능 비교, 벤치마크, 연구 실적, 기술 스펙 등)
- 기술 아키텍처 및 방법론 설명
- 학술 실적 (논문, 학회 발표, 특허)
- 성능 벤치마크 결과 (정량적 지표)
- 연구인력 학력/경력 상세

[피해야 할 표현]
- 비전문적 표현: "좋다", "빠르다", "뛰어나다"
- 감성적 표현: "꿈", "열정", "도전"
- 과도한 마케팅: "압도적", "최강", "유일무이"

[예시 문단] - 이 톤과 전문성을 유지하세요:
"당사의 KoNLP-BERT 모델은 트랜스포머 기반 한국어 자연어처리 특화 모델입니다. KLUE 벤치마크에서 NER F1 Score 94.2%(기존 KoBERT 91.0% 대비 +3.2%p), RE F1 Score 87.5%(기존 대비 +4.7%p)를 달성했습니다. 이 성과는 ACL 2024 Main Conference에 채택되어 발표되었으며(Paper ID: 1234), 관련 특허 2건(10-1234567호: 형태소 분석 알고리즘, 10-2345678호: 의미 추론 시스템)을 등록했습니다.

| 모델 | NER F1 | RE F1 | 학습 데이터 | 추론 속도 |
|------|--------|-------|-------------|-----------|
| KoBERT | 91.0% | 82.8% | 5GB | 1.2초 |
| mBERT | 88.5% | 79.3% | 다국어 | 1.8초 |
| **KoNLP-BERT** | **94.2%** | **87.5%** | 50GB | **0.3초** |

연구팀은 서울대 AI연구원 출신 박사 3명, KAIST AI대학원 석사 5명으로 구성되어 있으며, 과기부 R&D 과제(2024-00012345)를 통해 3년간 15억원의 연구비를 지원받아 기술 고도화를 추진 중입니다."

[전문형 체크리스트]
✓ 정량적 성능 지표가 충분히 제시되었는가?
✓ 학술 실적(논문/특허)이 포함되었는가?
✓ 기술 용어가 정확하게 사용되었는가?
✓ 벤치마크 비교표가 포함되었는가?
✓ 연구인력 전문성이 명시되었는가?
"""
}


# ================================================
# 티어별 스타일 설정
# ================================================
#
# 베이스 스타일 5개: story, data, aggressive, conservative, professional
# 조합 스타일 4개: balanced, strategic, trusted, expert
#
# BASIC (4,900원): 베이스 5개 중 story 1개 (고정)
# STANDARD (8,000원): 베이스 5개 중 라우터로 3개 선택
# PREMIUM (15,000원): 베이스 5개 중 라우터로 3개 + 조합 4개 중 라우터로 2개 = 5개

# 베이스 스타일 (5개)
BASE_STYLES = ["story", "data", "aggressive", "conservative", "professional"]

# 조합 스타일 (4개)
COMBINATION_STYLES = ["balanced", "strategic", "trusted", "expert"]

# 전체 스타일
ALL_STYLES = BASE_STYLES + COMBINATION_STYLES

TIER_STYLES = {
    "basic": {
        "base_styles": ["story"],  # 고정
        "base_count": 1,
        "combination_styles": [],
        "combination_count": 0,
        "total_count": 1,
        "router_enabled": False,
        "description": "스토리텔링 스타일 1개 제공"
    },
    "standard": {
        "base_styles": BASE_STYLES,  # 5개 중 라우터 선택
        "base_count": 3,
        "combination_styles": [],
        "combination_count": 0,
        "total_count": 3,
        "router_enabled": True,
        "description": "베이스 5개 중 AI 라우터로 3개 선택"
    },
    "premium": {
        "base_styles": BASE_STYLES,  # 5개 중 라우터 선택
        "base_count": 3,
        "combination_styles": COMBINATION_STYLES,  # 4개 중 라우터 선택
        "combination_count": 2,
        "total_count": 5,
        "router_enabled": True,
        "description": "베이스 3개 + 조합 2개 = AI 라우터로 5개 선택"
    }
}

# 스타일 정보 (UI 표시용)
STYLE_INFO = {
    # ===== 베이스 스타일 (5개) =====
    "story": {
        "name": "스토리텔링형",
        "icon": "📖",
        "type": "base",
        "short_desc": "창업 여정과 비전을 감성적으로 전달",
        "best_for": "초기 스타트업, 사회적 가치 중시 공고"
    },
    "data": {
        "name": "데이터 중심형",
        "icon": "📊",
        "type": "base",
        "short_desc": "숫자와 표로 객관적 근거 제시",
        "best_for": "기술성 평가 비중 높은 공고, 정량 평가 중시"
    },
    "aggressive": {
        "name": "공격형",
        "icon": "🔥",
        "type": "base",
        "short_desc": "경쟁 우위와 시장 지배력 강조",
        "best_for": "경쟁률 높은 공고, 차별화 필요시"
    },
    "conservative": {
        "name": "보수형",
        "icon": "🛡️",
        "type": "base",
        "short_desc": "검증된 실적과 안정적 성장 강조",
        "best_for": "리스크 관리 중시, 안정성 평가 공고"
    },
    "professional": {
        "name": "전문가형",
        "icon": "🎓",
        "type": "base",
        "short_desc": "기술 전문성과 학술적 근거 제시",
        "best_for": "R&D 과제, 기술 전문성 평가 공고"
    },
    # ===== 조합 스타일 (4개) =====
    "balanced": {
        "name": "균형형",
        "icon": "⚖️",
        "type": "combination",
        "short_desc": "감성적 스토리 + 객관적 데이터 균형",
        "best_for": "다양한 평가 항목, 범용적 공고",
        "combination": ["story", "data"]
    },
    "strategic": {
        "name": "전략형",
        "icon": "🎯",
        "type": "combination",
        "short_desc": "데이터 기반 공격적 차별화",
        "best_for": "고경쟁률 대규모 지원사업",
        "combination": ["data", "aggressive"]
    },
    "trusted": {
        "name": "신뢰형",
        "icon": "🤝",
        "type": "combination",
        "short_desc": "스토리 + 안정감/신뢰감 조화",
        "best_for": "정부/공공기관 대상, 장기 사업",
        "combination": ["story", "conservative"]
    },
    "expert": {
        "name": "전문형",
        "icon": "🔬",
        "type": "combination",
        "short_desc": "데이터 + 학술적/전문적 어필",
        "best_for": "기술혁신형 R&D, 특허/논문 중시 공고",
        "combination": ["data", "professional"]
    }
}


# ================================================
# AI 스타일 라우터 프롬프트 (analyze_announcement에 통합)
# ================================================

STYLE_ROUTER_PROMPT_SECTION = """
## 5. 스타일 추천 (AI 라우터) ⭐⭐⭐⭐

공고 특성을 분석하여 가장 적합한 신청서 스타일을 추천하세요.

**사용 가능한 스타일:**
{available_styles}

**스타일 선택 기준:**
1. story (스토리텔링형): 창업 스토리 중시, 사회적 가치, 초기 스타트업 우대
2. data (데이터 중심형): 정량 평가 비중 높음, 기술성/수치 중시, R&D 공고
3. aggressive (공격형): 높은 경쟁률, 차별화 필요, 대규모 지원금
4. balanced (균형형): 다양한 평가 항목, 범용적 공고, story+data 조화
5. strategic (전략형): 고경쟁률 + 대규모 지원 + 복합 평가, 모든 요소 통합

**분석 포인트:**
- 평가 기준의 정량/정성 비율
- 경쟁률 및 지원 규모
- 심사위원 구성 (기술전문가 vs 경영전문가)
- 공고 키워드 (혁신, 안정, 성장, 데이터 등)

**출력에 추가:**
"스타일추천": {{
  "추천스타일": "data",
  "추천이유": ["정량 평가 비중 60%", "기술성 평가 40점으로 최다 배점", "특허/성과 수치 제시 요구"],
  "차순위스타일": "balanced",
  "차순위이유": "스토리 요소 추가시 대표자 역량(20점) 보완 가능"
}}
"""


# ================================================
# Claude Sonnet 4.5 - AI 추천 프롬프트
# ================================================

RECOMMEND_STYLE_PROMPT = """
당신은 정부지원사업 전문 컨설턴트로서, 생성된 여러 스타일의 신청서 중 가장 적합한 것을 추천하는 역할을 합니다.

<공고분석>
{announcement_analysis}
</공고분석>

<회사분석>
{company_analysis}
</회사분석>

<생성된스타일들>
{generated_applications}
</생성된스타일들>

**중요한 제약사항**:
절대적 점수나 확률은 사용하지 마세요!
❌ "91점 예상"
❌ "선정 확률 85%"
✅ "1번이 2번보다 10-15% 더 적합"
✅ "상대적으로 우수"
✅ "다른 스타일 대비 개선 효과 예상"

각 스타일을 분석하고 상대적 비교로 추천하세요.

JSON 출력:
{{
  "스타일별분석": [
    {{
      "스타일": "데이터 중심형",
      "순위": 1,
      "적합도": "매우 높음",
      "강점": [
        "정량 평가 기준(60%)에 최적화",
        "표 6개로 핵심 데이터 시각화",
        "심사위원 구성(기술전문가 60%)에 부합",
        "회사의 수치적 강점(성장률 45%, 정밀도 5배) 효과적 활용"
      ],
      "약점": [
        "스토리텔링 부족으로 감성적 어필 약함",
        "일부 섹션에서 데이터 과다로 가독성 저하 우려"
      ],
      "공고매칭": "정량 평가 60% 비중 → 최적 매칭",
      "회사매칭": "특허, 성장률, 정밀도 등 수치 강점 활용 가능",
      "상대적우위": "2번(스토리형) 대비 10-15% 우수 예상, 3번(균형형) 대비 5-8% 우수 예상",
      "추천이유": [
        "심사위원 성향(데이터 중심)에 부합",
        "경쟁 상황(경쟁률 10:1)에서 객관적 근거로 차별화 유리",
        "평가 기준의 정량적 요소에 집중"
      ],
      "개선제안": [
        "3페이지 도입부에 간단한 스토리 추가 (회사 비전)",
        "표 간격 조정으로 가독성 향상"
      ]
    }},
    {{
      "스타일": "스토리텔링형",
      "순위": 2,
      "적합도": "보통",
      "강점": [
        "회사의 성장 스토리 효과적 전달",
        "심사위원의 감성적 공감 유도",
        "차별화된 비전과 철학 제시"
      ],
      "약점": [
        "정량 평가 기준(60%)에 대한 대응 부족",
        "객관적 근거 부족으로 검증 어려움",
        "표 2개로 데이터 시각화 미흡"
      ],
      "공고매칭": "정량 평가 비중 높은 공고에 부적합",
      "회사매칭": "회사 비전은 잘 전달하나 강점 활용 미흡",
      "상대적우위": "1번(데이터형) 대비 10-15% 낮음, 3번(균형형) 대비 5% 낮음",
      "비추천이유": [
        "공고의 정량 평가 비중(60%)과 불일치",
        "심사위원 구성(기술전문가 60%)에 부적합",
        "객관적 검증 자료 부족"
      ],
      "개선제안": [
        "표 3-4개 추가 (기술 비교, 재무 계획)",
        "각 스토리에 수치적 근거 보강"
      ]
    }},
    {{
      "스타일": "균형형",
      "순위": 3,
      "적합도": "높음",
      "강점": [
        "데이터와 스토리의 적절한 조화",
        "표 4개로 핵심 내용 시각화",
        "객관성과 비전의 균형",
        "가장 무난하고 안정적"
      ],
      "약점": [
        "특별한 차별성 부족",
        "데이터 중심형 대비 정량 평가 대응 약함",
        "스토리형 대비 감성적 어필 약함"
      ],
      "공고매칭": "정량/정성 평가 균형 시 적합하나, 본 공고는 정량 60%로 약간 불리",
      "회사매칭": "회사 강점 적절히 활용하나 임팩트 부족",
      "상대적우위": "1번(데이터형) 대비 5-8% 낮음, 2번(스토리형) 대비 5% 높음",
      "추천상황": "공고 성향을 정확히 파악하기 어려운 경우 안전한 선택",
      "개선제안": [
        "표 1-2개 추가로 데이터 강화",
        "핵심 차별화 포인트를 도입부에 더 강하게 부각"
      ]
    }}
  ],

  "최종추천": {{
    "스타일": "데이터 중심형 (1번)",
    "핵심이유": [
      "공고의 정량 평가 비중(60%)에 최적화",
      "회사의 수치적 강점(특허, 성장률, 정밀도) 효과적 활용",
      "심사위원 구성(기술전문가 60%)에 부합",
      "경쟁 상황(경쟁률 10:1)에서 객관적 근거로 차별화"
    ],
    "예상효과": "다른 스타일 대비 10-15% 개선 예상 (상대적 비교)",
    "주의사항": [
      "이것은 AI의 추정이며 보장이 아닙니다",
      "최종 결정은 귀사의 판단에 따라 주시기 바랍니다",
      "선정 여부는 다양한 변수에 영향을 받습니다"
    ],
    "추가제안": "1번(데이터형)을 기본으로, 3페이지 도입부에 간단한 스토리 추가하면 더욱 효과적"
  }},

  "의사결정가이드": {{
    "데이터형_선택시": [
      "공고가 정량 평가 중심일 때",
      "회사의 수치적 강점이 명확할 때",
      "심사위원이 기술/경영 전문가 중심일 때",
      "경쟁이 치열할 때 (객관적 근거로 차별화)"
    ],
    "스토리형_선택시": [
      "공고가 정성 평가 중심일 때",
      "회사의 비전과 철학이 강점일 때",
      "사회적 가치나 공익성을 강조하는 공고일 때",
      "심사위원의 감성적 공감이 중요할 때"
    ],
    "균형형_선택시": [
      "공고 성향을 정확히 파악하기 어려울 때",
      "정량/정성 평가가 균형을 이룰 때",
      "안전하고 무난한 접근을 원할 때",
      "회사의 강점이 다양하고 균형적일 때"
    ]
  }}
}}

**중요**:
1. 절대적 점수나 확률 사용 금지
2. 상대적 비교와 경향성으로만 표현
3. 모든 추천에 명확한 근거 제시
4. 주의사항 반드시 포함
5. 의사결정 가이드로 사용자의 판단 지원
"""


# ================================================
# 티어별 신청서 생성 프롬프트 (Basic / Standard / Premium)
# ================================================
#
# 티어별 차별화:
# - Basic (4,900원): 필수 평가 항목 분석 + 기본 작성
# - Standard (14,900원): 배점 전략 + 작성 요령 + 심사위원 관점
# - Premium (29,900원): 5단계 구조 + 자기 검증 + Few-shot + 차별화 전략
#

# ============================================================
# BASIC 티어 (4,900원) - 전문가 수준 신청서 작성 (1회)
# ============================================================
GENERATE_APPLICATION_PROMPT_BASIC = """
# 🎯 정부지원사업 신청서 작성 - 전문가 수준

당신은 정부지원사업 신청서 작성 **10년 경력 전문 컨설턴트**입니다.
심사위원이 "이 기업을 반드시 선정해야 한다"고 확신하는 수준의 신청서를 작성합니다.

## 🎯 서비스 핵심 가치
이 서비스의 목표는 **전문가 수준의 신청서를 AI로 자동 작성**하는 것입니다.
클릭 몇 번으로 **전문 컨설턴트가 작성한 것과 동일한 품질**의 신청서를 제공합니다.

# 📋 입력 데이터

<공고분석>
{announcement_analysis}
</공고분석>

<회사정보>
{company_analysis}
</회사정보>

---

# ⚡ 핵심 전략

## ⭐ 0. Y (공고분석) 가이드라인 철저 준수 - 절대 규칙!!

**⚠️ 절대 규칙: Y의 evaluation_criteria가 곧 신청서의 구조입니다!**

모든 공고는 다릅니다. 고정 템플릿 없이 Y를 분석하세요:

1. **Y의 evaluation_criteria 배열을 정확히 읽으세요**
   - 몇 개가 있든, 그 개수만큼 sections 생성
   - 각 항목의 name을 그대로 섹션 제목으로 사용
   - 임의로 섹션을 추가하거나 생략하지 마세요

2. **각 섹션은 해당 기준의 description을 완전히 충족**
   - description의 모든 요소를 빠짐없이 다룸
   - weight(배점)에 비례하여 분량 조절

3. **공고의 키워드와 요구사항 반영**
   - 공고가 강조하는 키워드를 반복 사용
   - ※ 마커, 괄호 설명 등 작성 지침을 정확히 반영

## 1. 핵심 인식: 신청서 = PPT 발표

**신청서는 Q&A가 아닙니다!**
PPT 발표처럼 "우리는 이런 회사다"를 풍부하게 설명하는 것입니다.

**심사위원 = 제반 지식이 없는 사람**입니다!
- 이 업계/기술을 잘 모를 수 있습니다
- 왜 이것이 대단한지 설명해줘야 합니다
- 왜 이 회사가 특별한지 알려줘야 합니다
→ **처음 접하는 사람에게 발표하듯** 자세하게 작성하세요!

**풍부한 설명 = 높은 점수 / 짧은 설명 = "준비 부족" 인상**

## 2. 설득력 강화 원칙
- **구체적 증거 제시**: 숫자, 날짜, 고유명사 활용
- **비교 우위 부각**: 경쟁사 대비, 업계 평균 대비
- **실적 기반 주장**: 과거 성과 → 현재 역량 → 미래 계획 연결

---

# 📊 작성 품질 기준

## ❌ 절대 피해야 할 표현 (아마추어 수준)
- "우수한 기술력을 보유하고 있습니다" (근거 없음)
- "최선을 다하겠습니다" (추상적)
- "경쟁력 있는 제품입니다" (비교 대상 없음)
- 일반적이고 두루뭉술한 표현

## ✅ 반드시 사용해야 할 표현 (전문가 수준)
- "2023년 기준 시장점유율 15%로 업계 3위" (구체적 수치)
- "특허 2건(10-1234567호, 10-2345678호) 보유" (증빙 가능)
- "경쟁사 A 대비 처리속도 3배, 정확도 15% 향상" (비교 데이터)
- 구체적인 숫자, 날짜, 실적, 인증, 고유명사

---

# 🎨 작성 스타일: 풍부한 스토리텔링 + 체계적 구조

## 🎯 핵심 인식: 신청서 = PPT 발표

**신청서는 Q&A가 아닙니다!**
PPT 발표처럼 "우리는 이런 회사다"를 **풍부하게 설명**하는 것입니다.

**심사위원 = 제반 지식이 없는 사람**입니다!
- 이 업계/기술을 잘 모를 수 있습니다
- 왜 이것이 대단한지 설명해줘야 합니다
- 왜 이 회사가 특별한지 알려줘야 합니다
→ **처음 접하는 사람에게 발표하듯** 자세하게 작성하세요!

**풍부한 설명 = 높은 점수 / 짧은 설명 = "준비 부족" 인상**

## 작성 원칙

1. **글자 수 제한 없음** - 제한이 없으면 **꽉 채워서** 충분히 상세하고 풍부하게!
2. **팩트 나열 금지** - 딱딱한 팩트만 나열하지 말고, 스토리텔링으로 설명
3. **체계적 구조 유지** - 섹션별로 명확하게 구분, 소제목 활용

## 각 섹션 작성 구조

각 평가 항목은 다음 구조로 **심사위원이 설득될 만큼 충분히 상세하게** 작성:

1. **도입 스토리** (2-3문장): 맥락과 배경 설명, 독자의 관심 유도
2. **핵심 주장** (2-3문장): 이 항목에서 증명하고 싶은 핵심 메시지
3. **구체적 근거** (5-8문장): 숫자, 실적, 인증 + **왜 이것이 의미있는지 설명**
4. **차별화 포인트** (2-3문장): 다른 지원자와 구별되는 강점 + 이유 설명
5. **기대 효과** (2-3문장): 본 사업 참여 시 예상 성과 + 구체적 목표

## 좋은 예시

**나쁜 예 (팩트만 나열)**:
> "당사는 특허 3건 보유. 박사급 인력 5명. 매출 15억원."

**좋은 예 (스토리텔링 + 설명)**:
> "2019년 창업 당시, 저희에게는 오직 '데이터로 세상을 바꾸겠다'는 꿈과 카이스트 AI 대학원에서 함께 연구하던 5명의 동료뿐이었습니다. 좁은 연구실에서 시작한 회사가 5년 만에 매출 15억원을 달성하고, 삼성전자와 LG전자가 먼저 찾아오는 기술 파트너가 될 수 있었던 것은 '기술력에 대한 집착' 덕분이었습니다.
>
> 저희가 보유한 3건의 특허(10-1234567호 외)는 단순한 숫자가 아닙니다. 이는 수천 번의 실험과 실패 끝에 얻어낸, **업계 평균 대비 3배 빠른 처리 속도**와 **15% 높은 정확도**를 가능하게 한 핵심 기술입니다."

---

# 📝 출력 형식 (구조화된 JSON)

마크다운 기호(#, ##, ###, **, -, >, *)는 절대 사용하지 마세요!
모든 구조(소제목, 표)는 JSON 필드로 표현합니다.

**⚠️ 절대 규칙 - Y 가이드라인 기반 동적 생성**:

1. Y의 evaluation_criteria 배열을 분석하세요
2. 배열의 각 항목(name, description, weight)을 확인하세요
3. 그 항목 수만큼 정확히 sections를 생성하세요
4. 각 섹션의 title은 해당 항목의 name을 그대로 사용하세요

JSON 출력 구조:

{{
  "title": "[Y의 사업명] 신청서 - [Z의 회사명]",
  "sections": [
    {{
      "title": "1. [Y.evaluation_criteria 첫 번째 항목의 name]",
      "subsections": [
        {{"subtitle": "도입 스토리", "content": "2-3문장 (맥락과 배경)"}},
        {{"subtitle": "핵심 주장", "content": "2-3문장 (해당 기준의 description 요소에 대응)"}},
        {{"subtitle": "구체적 근거", "content": "5-8문장 (숫자, 실적, 인증으로 증명)"}},
        {{"subtitle": "차별화 포인트", "content": "2-3문장"}},
        {{"subtitle": "기대 효과", "content": "2-3문장"}}
      ],
      "tables": [
        {{
          "title": "관련 표 제목",
          "headers": ["열1", "열2", "열3"],
          "rows": [["데이터", "데이터", "데이터"]]
        }}
      ],
      "word_count": 800
    }}
  ],
  "statistics": {{
    "total_words": 4000,
    "total_tables": "섹션당 1개 이상",
    "total_sections": "Y.evaluation_criteria 개수와 동일"
  }}
}}

**출력 규칙**:
- sections 개수 = Y의 evaluation_criteria 개수 (절대 규칙!)
- 각 섹션 title = Y의 해당 평가 기준 name (임의 생성 금지!)
- 각 섹션 내용 = Y의 해당 description 요소를 빠짐없이 충족
- 마크다운 기호 금지: #, ##, ###, **, -, >, * 사용 불가
- 소제목은 subsections 배열의 subtitle 필드로
- 표는 tables 배열 (headers + rows)
- content는 순수 텍스트만

---

# 💡 기억하세요

**목표**: 심사위원이 "이 기업을 선정해도 되겠다"라고 확신하는 신청서 작성

**반드시 포함**:
- 4,000자 이상의 완성된 신청서
- tables 배열로 표 3개 이상
- 섹션별 subsections로 구조화된 내용
- 구체적인 숫자, 날짜, 실적, 인증

**절대 금지**:
- 마크다운 기호 (#, ##, ###, **, -, >, *)
- Q&A 형식 출력
- 1,500자 미만의 간략한 내용
"""

# ============================================================
# STANDARD 티어 (14,900원) - 전략적 신청서 작성
# ============================================================
GENERATE_APPLICATION_PROMPT_STANDARD = """
# 🎯 정부지원사업 전략적 신청서 작성

당신은 정부지원사업 신청서 작성 전문가이자 **심사위원 관점의 분석가**입니다.

# 📋 입력 데이터

<공고분석_Y>
{announcement_analysis}
</공고분석_Y>

<회사분석_Z>
{company_analysis}
</회사분석_Z>

---

# ⚡ 핵심 전략

## 1. Y (공고분석) 가이드라인 철저 준수 - 절대 규칙!!

**⚠️ 핵심: Y의 evaluation_criteria가 곧 신청서의 구조입니다!**

모든 공고는 다릅니다. 고정 템플릿 없이 Y를 분석하세요:

1. **Y의 evaluation_criteria 배열을 정확히 읽으세요**
   - 몇 개가 있든, 그 개수만큼 sections 생성
   - 각 항목의 name을 그대로 섹션 제목으로 사용
   - 임의로 섹션을 추가하거나 생략하지 마세요

2. **각 섹션은 해당 기준의 description을 완전히 충족**
   - description의 모든 요소를 빠짐없이 다룸
   - weight(배점)에 비례하여 분량 조절

## 2. 심사위원 관점 활용
심사위원은 다음을 확인하고 싶어합니다:
- "이 기업은 사업을 수행할 역량이 있는가?"
- "제시된 계획이 실현 가능한가?"
- "투자 대비 성과가 나올 것인가?"

## 3. 설득력 강화 원칙
- **구체적 증거 제시**: 숫자, 날짜, 고유명사 활용
- **비교 우위 부각**: 경쟁사 대비, 업계 평균 대비
- **실적 기반 주장**: 과거 성과 → 현재 역량 → 미래 계획 연결

---

# 📊 작성 품질 기준

## ❌ 피해야 할 표현
- "우수한 기술력을 보유하고 있습니다" (근거 없음)
- "최선을 다하겠습니다" (추상적)
- "경쟁력 있는 제품입니다" (비교 대상 없음)

## ✅ 권장하는 표현
- "2023년 기준 시장점유율 15%로 업계 3위" (구체적 수치)
- "특허 2건(10-1234567호, 10-2345678호) 보유" (증빙 가능)
- "경쟁사 A 대비 처리속도 3배, 정확도 15% 향상" (비교 데이터)

---

# 🎨 작성 구조 (각 항목별)

각 평가 항목은 다음 흐름으로 작성:

1. **핵심 주장** (1-2문장): 이 항목에서 증명하고 싶은 핵심 메시지
2. **구체적 근거** (3-5문장): 숫자, 실적, 인증 등 객관적 증거
3. **차별화 포인트** (1-2문장): 다른 지원자와 구별되는 강점
4. **기대 효과** (1-2문장): 본 사업 참여 시 예상 성과

---

<스타일: {style}>
{style_guide}
</스타일>

---

# 📝 출력 형식 (구조화된 JSON)

마크다운 기호(#, ##, ###, **, -, >, *)는 절대 사용하지 마세요!
모든 구조(소제목, 표)는 JSON 필드로 표현합니다.

**⚠️ 절대 규칙 - Y 가이드라인 기반 동적 생성**:

모든 공고의 Y는 다릅니다. 고정 템플릿 없이 Y를 분석하세요:

1. Y의 evaluation_criteria 배열을 정확히 분석
2. 각 항목의 name, description, weight 확인
3. 그 개수만큼 정확히 sections 생성
4. 각 섹션 title = 해당 name 그대로

{{
  "title": "[Y의 사업명] 신청서 - [Z의 회사명]",
  "sections": [
    {{
      "title": "1. [Y의 첫 번째 평가기준 name]",
      "subsections": [
        {{"subtitle": "핵심 주장", "content": "2-3문장 (해당 기준 description에 대응)"}},
        {{"subtitle": "구체적 근거", "content": "4-6문장 (숫자, 실적으로 증명)"}},
        {{"subtitle": "차별화 포인트", "content": "2-3문장"}},
        {{"subtitle": "기대 효과", "content": "1-2문장"}}
      ],
      "tables": [
        {{
          "title": "관련 표",
          "headers": ["열1", "열2", "열3"],
          "rows": [["데이터", "데이터", "데이터"]]
        }}
      ],
      "word_count": 600
    }}
  ],
  "statistics": {{
    "total_words": 3000,
    "total_tables": "섹션당 1개 이상",
    "total_sections": "Y.evaluation_criteria 개수"
  }}
}}

**출력 규칙**:
- sections 개수 = Y의 evaluation_criteria 개수 (절대!)
- 각 섹션 title = Y의 해당 평가기준 name (임의 생성 금지!)
- 각 섹션 내용 = 해당 description 요소를 빠짐없이 충족
- 마크다운 기호 금지: #, ##, ###, **, -, >, * 사용 불가
- 소제목은 subsections 배열의 subtitle 필드로
- 표는 tables 배열 (headers + rows)
- 스타일에 맞게 작성 (data/story/balanced)

---

# 💡 기억하세요

**목표**: 심사위원이 "이 기업을 선정해도 되겠다"라고 확신할 수 있는 **완전한 신청서 문서** 작성

**반드시 포함**:
- 2,000-3,000자 분량의 완성된 신청서
- 마크다운 표 4개 이상
- 섹션별 구조화된 내용
- 스타일 가이드에 맞는 톤과 구성

**절대 금지**:
- Q&A 형식 출력
- 단편적인 답변
- 1,500자 미만의 간략한 내용
"""

# ============================================================
# PREMIUM 티어 (29,900원) - 프리미엄 전략 신청서
# ============================================================
# 기존 GENERATE_APPLICATION_PROMPT_EVALUATION을 Premium으로 사용
GENERATE_APPLICATION_PROMPT_PREMIUM = GENERATE_APPLICATION_PROMPT_EVALUATION


# ============================================================
# 티어별 프롬프트 선택 함수
# ============================================================
def get_tier_prompt(tier: str) -> str:
    """
    티어에 따른 프롬프트 반환

    Args:
        tier: 'basic', 'standard', 'premium'

    Returns:
        해당 티어의 프롬프트 템플릿
    """
    tier_prompts = {
        'basic': GENERATE_APPLICATION_PROMPT_BASIC,
        'standard': GENERATE_APPLICATION_PROMPT_STANDARD,
        'premium': GENERATE_APPLICATION_PROMPT_PREMIUM,
    }
    return tier_prompts.get(tier.lower(), GENERATE_APPLICATION_PROMPT_STANDARD)


def get_tier_description(tier: str) -> dict:
    """
    티어별 설명 및 특징 반환
    """
    tier_info = {
        'basic': {
            'name': 'Basic',
            'price': 4900,
            'features': [
                '필수 평가 항목 분석',
                '기본 신청서 작성',
                '회사 정보 기반 답변',
            ],
            'best_for': '단순 신청서, 평가 항목이 적은 공고',
        },
        'standard': {
            'name': 'Standard',
            'price': 8000,
            'features': [
                '배점 우선순위 전략',
                '심사위원 관점 분석',
                '구체적 증거 기반 작성',
                '차별화 포인트 포함',
            ],
            'best_for': '평가 항목이 있는 일반적인 공고',
        },
        'premium': {
            'name': 'Premium',
            'price': 15000,
            'features': [
                '5단계 심층 구조 (도입-본론-차별화-증빙-전망)',
                'Writer + 심사위원 이중 역할',
                '자기 검증 프로세스',
                'Few-shot 예시 기반 고품질 작성',
                '스타일별 맞춤 전략',
            ],
            'best_for': '경쟁이 치열한 중요 공고, 사업계획서 제출이 필요한 공고',
        },
    }
    return tier_info.get(tier.lower(), tier_info['standard'])


# ================================================
# 프롬프트 템플릿 사용 예시
# ================================================

if __name__ == "__main__":
    # 테스트 코드
    print("✅ 프롬프트 템플릿 정의 완료")
    print("\n=== 공고 분석 프롬프트 ===")
    print("1. ANALYZE_ANNOUNCEMENT_PROMPT (Claude Sonnet 4.5)")
    print("2. ANALYZE_COMPANY_PROMPT (Claude Sonnet 4.5)")

    print("\n=== 양식 유형별 프롬프트 ===")
    print("3. GENERATE_APPLICATION_PROMPT_SIMPLE (단순 등록 양식)")
    print("4. GENERATE_APPLICATION_PROMPT_EVALUATION (평가 기반 양식)")

    print("\n=== 티어별 프롬프트 ===")
    print("5. GENERATE_APPLICATION_PROMPT_BASIC (4,900원)")
    print("6. GENERATE_APPLICATION_PROMPT_STANDARD (14,900원)")
    print("7. GENERATE_APPLICATION_PROMPT_PREMIUM (29,900원)")

    print("\n=== 기타 ===")
    print("8. RECOMMEND_STYLE_PROMPT (스타일 추천)")

    print("\n스타일 가이드 5개:")
    for style_name in STYLE_GUIDES.keys():
        print(f"  - {style_name}")

    print("\n=== 티어별 특징 ===")
    for tier in ['basic', 'standard', 'premium']:
        info = get_tier_description(tier)
        print(f"\n[{info['name']}] - {info['price']:,}원")
        print(f"  대상: {info['best_for']}")
        print(f"  특징:")
        for feature in info['features']:
            print(f"    - {feature}")
