# ========================================
# FastAPI 백엔드 환경변수 템플릿 (Railway)
# ========================================
# 로컬 개발: 이 파일을 복사하여 .env 파일 생성
# 프로덕션: Railway Dashboard → Project → Variables에 설정

# ========================================
# 1. 데이터베이스 (Supabase PostgreSQL)
# ========================================
SUPABASE_URL=https://[project-id].supabase.co
# 설명: Supabase 프로젝트 URL
# 위치: Supabase Dashboard → Project Settings → API → Project URL

SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# 설명: Supabase Service Role Key (관리자 권한)
# 위치: Supabase Dashboard → Project Settings → API → Project API keys → service_role secret
# ⚠️ 주의: 절대 클라이언트에 노출하지 말 것

SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# 설명: Supabase Anonymous Key (공개 키, 선택)
# 위치: Supabase Dashboard → Project Settings → API → Project API keys → anon public

POSTGRES_URL=postgresql://postgres.[project-id]:[password]@aws-0-ap-northeast-2.pooler.supabase.com:5432/postgres
# 설명: PostgreSQL 직접 연결 URL (선택)
# 위치: Supabase Dashboard → Project Settings → Database → Connection String

# ========================================
# 2. AI APIs (Application Writer 기능)
# ========================================
ANTHROPIC_API_KEY=sk-ant-api03-xxxxx
# 설명: Claude API Key (공고 분석용)
# 위치: Anthropic Console → API Keys → Create Key
# 모델: claude-sonnet-4-5-20250929

OPENAI_API_KEY=sk-proj-xxxxx
# 설명: OpenAI API Key (신청서 생성용)
# 위치: OpenAI Platform → API Keys → Create new secret key
# 모델: gpt-4o

# ========================================
# 3. 파일 저장소 (선택)
# ========================================
STORAGE_TYPE=supabase
# 설명: 파일 저장 방식 (supabase, local, s3)
# supabase: Supabase Storage 사용 (권장)
# local: 로컬 파일 시스템 (개발용)

SUPABASE_STORAGE_BUCKET=announcements
# 설명: Supabase Storage 버킷 이름
# 위치: Supabase Dashboard → Storage → Buckets

# ========================================
# 4. 데이터 수집 설정
# ========================================
COLLECTION_MODE=auto
# 설명: 자동 수집 모드 (auto, manual, disabled)
# auto: GitHub Actions 스케줄 실행
# manual: 수동 실행만
# disabled: 수집 비활성화

# ========================================
# 5. 서버 설정
# ========================================
HOST=0.0.0.0
# 설명: FastAPI 바인드 주소

PORT=8000
# 설명: FastAPI 서버 포트 (Railway가 자동 할당하면 $PORT 환경변수 사용)

RELOAD=false
# 설명: 자동 재시작 (개발: true, 프로덕션: false)

PYTHONUNBUFFERED=1
# 설명: Python 로그 버퍼링 비활성화

LOG_LEVEL=INFO
# 설명: 로그 레벨 (DEBUG, INFO, WARNING, ERROR)

# ========================================
# 6. CORS 설정
# ========================================
# 개발 환경
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# 프로덕션 환경 (Railway에서는 아래 설정 사용)
# CORS_ORIGINS=https://roten.kr,https://dev.roten.kr,https://staging.roten.kr

# ========================================
# 7. 캐싱 설정
# ========================================
CACHE_TTL=60
# 설명: 캐시 유지 시간 (초)

# ========================================
# 8. 페이지네이션 설정
# ========================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ========================================
# 9. Rate Limiting
# ========================================
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=60

# ========================================
# 10. 환경 설정
# ========================================
ENV=production
# 설명: 환경 (production, staging, development)

DEBUG=false
# 설명: 디버그 모드 (프로덕션에서는 반드시 false)
